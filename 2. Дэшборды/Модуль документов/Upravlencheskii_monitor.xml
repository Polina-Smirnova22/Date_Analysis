<root dtCreateTime="23:52 10.09.2025" Check="5ca6477620a96eb53aa671401ebcc0f8" CheckD="bd780231df4f4974dddf036c3c49e496"><info sComment="" DBVersion="03.131.01_02"><subjectarea><r nID="2741000000559" sName="ПСБ_Управленческий_монитор"/></subjectarea><positions/><dashboards><r nID="2741000001143" sName="Управленческий монитор_тест"/><r nID="2741000001227" sName="УПР"/><r nID="2741000001140" sName="Управленческий монитор - Смирнова П."/></dashboards><screens/><tables/><sources><r nID="2741000004604" sName="ПСБ ФинБлок Структура" sDescription=""/><r nID="2741000004633" sName="ПСБ финблок - ролевая модель" sDescription=""/><r nID="3572000000058" sName="ПСБ ФинБлок Роль" sDescription=""/></sources><dictionaries/><indicators/><datamodel isSaveVersion="false"/><queuejobs/></info><data><t1 sCheck="266"><r nid="2741000000559" sname_ru="ПСБ_Управленческий_монитор" sname_en="ПСБ_Управленческий_монитор" ndepartmentid="1" ndatapointid="555" dtdatefrom="2025-06-18" dtdateto="2099-01-01" ndisplaystateid="7" issubjectarea="true"/></t1><t2 sCheck="152"><r nid="2741000002995" npositionid="2741000000559" ndashboardid="2741000001140" ndashboardposition="1" isenabledqc="true" ismainposition="true"/><r nid="2741000003007" npositionid="2741000000559" ndashboardid="2741000001143" ndashboardposition="2" isenabledqc="true" ismainposition="true"/><r nid="2741000003160" npositionid="2741000000559" ndashboardid="2741000001227" ndashboardposition="1" isenabledqc="true" ismainposition="true"/></t2><t11 sCheck="86"><r nid="1029656" npositionid="2741000000559" nusersourceid="2741000004633" ismainposition="true"/><r nid="1030269" npositionid="2741000000559" nusersourceid="3572000000058" ismainposition="true"/><r nid="1032090" npositionid="2741000000559" nusersourceid="2741000004604" ismainposition="true"/></t11><t12 sCheck="220"><r nid="2741000004604" stable="psb_fin_blok_struktura_2741000004604" sname="ПСБ ФинБлок Структура" sdescription="" xheader="&lt;header&gt;&lt;column name=&quot;id&quot; alias=&quot;&quot; order=&quot;1&quot;/&gt;&lt;column name=&quot;level_1&quot; alias=&quot;&quot; order=&quot;3&quot;/&gt;&lt;column name=&quot;level_2&quot; alias=&quot;&quot; order=&quot;4&quot;/&gt;&lt;column name=&quot;sort&quot; alias=&quot;&quot; order=&quot;2&quot;/&gt;&lt;column name=&quot;name&quot; alias=&quot;&quot; order=&quot;7&quot;/&gt;&lt;column name=&quot;number&quot; alias=&quot;&quot; order=&quot;9&quot;/&gt;&lt;column name=&quot;level_3&quot; alias=&quot;&quot; order=&quot;5&quot;/&gt;&lt;column name=&quot;level_4&quot; alias=&quot;&quot; order=&quot;6&quot;/&gt;&lt;column name=&quot;name_short&quot; alias=&quot;&quot; order=&quot;8&quot;/&gt;&lt;column name=&quot;business_block&quot; alias=&quot;&quot; order=&quot;0&quot;/&gt;&lt;column name=&quot;role&quot; alias=&quot;&quot; order=&quot;0&quot;/&gt;&lt;column name=&quot;url&quot; alias=&quot;&quot; order=&quot;0&quot;/&gt;&lt;column name=&quot;dashboard&quot;/&gt;&lt;/header&gt;" xstructure="&lt;tablestructure&gt;&lt;columns&gt;&lt;column id=&quot;1&quot; name=&quot;id&quot; type=&quot;bigint&quot;/&gt;&lt;column id=&quot;2&quot; name=&quot;level_1&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;3&quot; name=&quot;level_2&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;5&quot; name=&quot;sort&quot; type=&quot;bigint&quot;/&gt;&lt;column id=&quot;7&quot; name=&quot;name&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;8&quot; name=&quot;number&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;17&quot; name=&quot;level_3&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;18&quot; name=&quot;level_4&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;19&quot; name=&quot;name_short&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;20&quot; name=&quot;business_block&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;21&quot; name=&quot;role&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;22&quot; name=&quot;url&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;23&quot; name=&quot;dashboard&quot; type=&quot;bigint&quot;/&gt;&lt;/columns&gt;&lt;indexes/&gt;&lt;constraints&gt;&lt;constraint type=&quot;PRIMARY KEY&quot; name=&quot;psb_fin_blok_struktura_2741000004604_pkey&quot; columns=&quot;id&quot;/&gt;&lt;/constraints&gt;&lt;/tablestructure&gt;" dtlastload="2025-07-31 17:01:16.978227" ntype="1" isshowforvisualization="true"/><r nid="2741000004633" stable="psb_finblok__rolevaya_model_2741000004633" sname="ПСБ финблок - ролевая модель" sdescription="" xheader="&lt;header&gt;&lt;column name=&quot;id&quot; order=&quot;0&quot;/&gt;&lt;column name=&quot;name&quot;/&gt;&lt;column name=&quot;role&quot;/&gt;&lt;/header&gt;" xstructure="&lt;tablestructure&gt;&lt;columns&gt;&lt;column id=&quot;1&quot; name=&quot;id&quot; type=&quot;bigint&quot;/&gt;&lt;column id=&quot;2&quot; name=&quot;name&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;3&quot; name=&quot;role&quot; type=&quot;character varying&quot;/&gt;&lt;/columns&gt;&lt;indexes/&gt;&lt;constraints&gt;&lt;constraint type=&quot;PRIMARY KEY&quot; name=&quot;psb_finblok__rolevaya_model_2741000004633_pkey&quot; columns=&quot;id&quot;/&gt;&lt;/constraints&gt;&lt;/tablestructure&gt;" dtlastload="2025-06-24 13:04:49.663943" ntype="1" isshowforvisualization="true"/><r nid="3572000000058" stable="psb_finblok_rol_3572000000058" sname="ПСБ ФинБлок Роль" sdescription="" xheader="&lt;header&gt;&lt;column name=&quot;id&quot;/&gt;&lt;column name=&quot;name&quot;/&gt;&lt;column name=&quot;role&quot;/&gt;&lt;/header&gt;" xstructure="&lt;tablestructure&gt;&lt;columns&gt;&lt;column id=&quot;1&quot; name=&quot;id&quot; type=&quot;bigint&quot;/&gt;&lt;column id=&quot;2&quot; name=&quot;name&quot; type=&quot;character varying&quot;/&gt;&lt;column id=&quot;3&quot; name=&quot;role&quot; type=&quot;character varying&quot;/&gt;&lt;/columns&gt;&lt;indexes/&gt;&lt;constraints&gt;&lt;constraint type=&quot;PRIMARY KEY&quot; name=&quot;psb_finblok_rol_3572000000058_pkey&quot; columns=&quot;id&quot;/&gt;&lt;/constraints&gt;&lt;/tablestructure&gt;" dtlastload="2025-06-24 14:08:40.99234" ntype="1" isshowforvisualization="true"/></t12><dv/><t13 sCheck="92"><r nid="2741000004031" nusersourceid="2741000004604" sname="" jsettings="{&quot;settings&quot;: {&quot;data&quot;: {&quot;json&quot;: &quot;{\&quot;name\&quot;:\&quot;\&quot;,\&quot;header\&quot;:true,\&quot;delimiter\&quot;:\&quot;;\&quot;,\&quot;skippedRows\&quot;:0,\&quot;headerNum\&quot;:1,\&quot;mapping\&quot;:{},\&quot;selectedSheet\&quot;:\&quot;Источник (2)\&quot;}&quot;}}}"/><r nid="2741000004056" nusersourceid="2741000004633" sname="ПСБ финблок - ролевая модель" jsettings="{&quot;settings&quot;: {&quot;data&quot;: {&quot;json&quot;: &quot;{\&quot;name\&quot;:\&quot;ПСБ финблок - ролевая модель_24.06.2025 11:35_v1\&quot;,\&quot;header\&quot;:true,\&quot;delimiter\&quot;:\&quot;;\&quot;,\&quot;skippedRows\&quot;:0,\&quot;headerNum\&quot;:1,\&quot;mapping\&quot;:{},\&quot;selectedSheet\&quot;:\&quot;Роль\&quot;}&quot;}}}"/><r nid="3572000000048" nusersourceid="3572000000058" sname="~#~ &#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD; &#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;" jsettings="{&quot;settings&quot;: {&quot;data&quot;: {&quot;json&quot;: &quot;{\&quot;name\&quot;:\&quot;ПСБ ФинБлок Роль_24.06.2025 12:30_v1\&quot;,\&quot;header\&quot;:true,\&quot;delimiter\&quot;:\&quot;;\&quot;,\&quot;skippedRows\&quot;:0,\&quot;headerNum\&quot;:1,\&quot;mapping\&quot;:{},\&quot;selectedSheet\&quot;:\&quot;Роль\&quot;}&quot;}}}"/></t13><s r="&lt;params&gt;&lt;param name=&quot;nID&quot; value=&quot;3572000000058&quot;/&gt;&lt;data&gt;&lt;usersource isShowForVisualization=&quot;true&quot; nType=&quot;1&quot; sDescription=&quot;&quot; sName=&quot;&amp;#x41F;&amp;#x421;&amp;#x411; &amp;#x424;&amp;#x438;&amp;#x43D;&amp;#x411;&amp;#x43B;&amp;#x43E;&amp;#x43A; &amp;#x420;&amp;#x43E;&amp;#x43B;&amp;#x44C;&quot; sSchema=&quot;src&quot; sTable=&quot;psb_finblok_rol_3572000000058&quot;/&gt;&lt;subjectareas&gt;&lt;r nID=&quot;2741000000559&quot;/&gt;&lt;/subjectareas&gt;&lt;tablestructure&gt;&lt;columns&gt;&lt;column name=&quot;id&quot; type=&quot;bigint&quot; id=&quot;1&quot;/&gt;&lt;column name=&quot;name&quot; type=&quot;character varying&quot; id=&quot;2&quot;/&gt;&lt;column name=&quot;role&quot; type=&quot;character varying&quot; id=&quot;3&quot;/&gt;&lt;/columns&gt;&lt;/tablestructure&gt;&lt;/data&gt;&lt;/params&gt;"/><s r="&lt;params&gt;&lt;param name=&quot;nID&quot; value=&quot;2741000004604&quot;/&gt;&lt;data&gt;&lt;usersource isShowForVisualization=&quot;true&quot; nType=&quot;1&quot; sDescription=&quot;&quot; sName=&quot;&amp;#x41F;&amp;#x421;&amp;#x411; &amp;#x424;&amp;#x438;&amp;#x43D;&amp;#x411;&amp;#x43B;&amp;#x43E;&amp;#x43A; &amp;#x421;&amp;#x442;&amp;#x440;&amp;#x443;&amp;#x43A;&amp;#x442;&amp;#x443;&amp;#x440;&amp;#x430;&quot; sSchema=&quot;src&quot; sTable=&quot;psb_fin_blok_struktura_2741000004604&quot;/&gt;&lt;subjectareas&gt;&lt;r nID=&quot;2741000000559&quot;/&gt;&lt;/subjectareas&gt;&lt;tablestructure&gt;&lt;columns&gt;&lt;column name=&quot;id&quot; type=&quot;bigint&quot; id=&quot;1&quot;/&gt;&lt;column name=&quot;level_1&quot; type=&quot;character varying&quot; id=&quot;2&quot;/&gt;&lt;column name=&quot;level_2&quot; type=&quot;character varying&quot; id=&quot;3&quot;/&gt;&lt;column name=&quot;sort&quot; type=&quot;bigint&quot; id=&quot;5&quot;/&gt;&lt;column name=&quot;name&quot; type=&quot;character varying&quot; id=&quot;7&quot;/&gt;&lt;column name=&quot;number&quot; type=&quot;character varying&quot; id=&quot;8&quot;/&gt;&lt;column name=&quot;level_3&quot; type=&quot;character varying&quot; id=&quot;17&quot;/&gt;&lt;column name=&quot;level_4&quot; type=&quot;character varying&quot; id=&quot;18&quot;/&gt;&lt;column name=&quot;name_short&quot; type=&quot;character varying&quot; id=&quot;19&quot;/&gt;&lt;column name=&quot;business_block&quot; type=&quot;character varying&quot; id=&quot;20&quot;/&gt;&lt;column name=&quot;role&quot; type=&quot;character varying&quot; id=&quot;21&quot;/&gt;&lt;column name=&quot;url&quot; type=&quot;character varying&quot; id=&quot;22&quot;/&gt;&lt;column name=&quot;dashboard&quot; type=&quot;bigint&quot; id=&quot;23&quot;/&gt;&lt;/columns&gt;&lt;/tablestructure&gt;&lt;/data&gt;&lt;/params&gt;"/><t38 sCheck="103"><r nid="2741000000674" ncontrolobjectid="2741000009603" scode="vkl" svalue="ON" ntype="1" isactive="true"/><r nid="2741000000675" ncontrolobjectid="2741000009591" scode="vkl" svalue="ON" ntype="-1" isactive="true"/><r nid="2741000000676" ncontrolobjectid="2741000009598" scode="vkl" svalue="ON" ntype="1" isactive="true"/><r nid="2741000000679" ncontrolobjectid="2741000009598" scode="tab1" svalue="Главная" ntype="1" isactive="true"/><r nid="2741000000678" ncontrolobjectid="2741000009586" scode="tab1" svalue="Главная" ntype="1" isactive="true"/><r nid="2741000000677" ncontrolobjectid="2741000009586" scode="vkl" svalue="ON" ntype="1" isactive="true"/><r nid="2741000000718" ncontrolobjectid="2741000009986" scode="vkl" svalue="ON" ntype="-1" isactive="true"/><r nid="2741000000720" ncontrolobjectid="2741000009990" scode="vkl" svalue="ON" ntype="1" isactive="true"/><r nid="2741000000721" ncontrolobjectid="2741000009991" scode="tab1" svalue="Архив" ntype="1" isactive="true"/><r nid="2741000000715" ncontrolobjectid="2741000009603" scode="tab1" svalue="Архив" ntype="1" isactive="true"/><r nid="2741000000722" ncontrolobjectid="2741000009991" scode="vkl" svalue="ON" ntype="1" isactive="true"/><r nid="2741000000723" ncontrolobjectid="2741000009994" scode="vkl" svalue="ON" ntype="1" isactive="true"/><r nid="2741000000724" ncontrolobjectid="2741000009994" scode="tab1" svalue="Главная" ntype="1" isactive="true"/><r nid="2741000000725" ncontrolobjectid="2741000009995" scode="vkl" svalue="OFF" ntype="-1" isactive="true"/><r nid="2741000000726" ncontrolobjectid="2741000009995" scode="tab1" svalue="Архив" ntype="1" isactive="true"/><r nid="2741000000713" ncontrolobjectid="2741000009914" scode="tab1" svalue="Архив" ntype="1" isactive="true"/><r nid="2741000000714" ncontrolobjectid="2741000009914" scode="vkl" svalue="OFF" ntype="-1" isactive="true"/><r nid="2741000000719" ncontrolobjectid="2741000009990" scode="tab1" svalue="Главная" ntype="1" isactive="true"/><r nid="2741000000771" ncontrolobjectid="2741000010373" scode="tab1" svalue="Архив" ntype="1" isactive="true"/><r nid="2741000000772" ncontrolobjectid="2741000010373" scode="vkl" svalue="OFF" ntype="-1" isactive="true"/><r nid="2741000000773" ncontrolobjectid="2741000010374" scode="tab1" svalue="Главная" ntype="1" isactive="true"/><r nid="2741000000774" ncontrolobjectid="2741000010374" scode="vkl" svalue="ON" ntype="1" isactive="true"/><r nid="2741000000775" ncontrolobjectid="2741000010375" scode="vkl" svalue="ON" ntype="1" isactive="true"/><r nid="2741000000776" ncontrolobjectid="2741000010375" scode="tab1" svalue="Архив" ntype="1" isactive="true"/><r nid="2741000000768" ncontrolobjectid="2741000010365" scode="vkl" svalue="ON" ntype="-1" isactive="true"/><r nid="2741000000769" ncontrolobjectid="2741000010370" scode="tab1" svalue="Главная" ntype="1" isactive="true"/><r nid="2741000000770" ncontrolobjectid="2741000010370" scode="vkl" svalue="ON" ntype="1" isactive="true"/></t38><s r="&lt;params&gt;&lt;param name=&quot;nID&quot; value=&quot;2741000004633&quot;/&gt;&lt;data&gt;&lt;usersource isShowForVisualization=&quot;true&quot; nType=&quot;1&quot; sDescription=&quot;&quot; sName=&quot;&amp;#x41F;&amp;#x421;&amp;#x411; &amp;#x444;&amp;#x438;&amp;#x43D;&amp;#x431;&amp;#x43B;&amp;#x43E;&amp;#x43A; - &amp;#x440;&amp;#x43E;&amp;#x43B;&amp;#x435;&amp;#x432;&amp;#x430;&amp;#x44F; &amp;#x43C;&amp;#x43E;&amp;#x434;&amp;#x435;&amp;#x43B;&amp;#x44C;&quot; sSchema=&quot;src&quot; sTable=&quot;psb_finblok__rolevaya_model_2741000004633&quot;/&gt;&lt;subjectareas&gt;&lt;r nID=&quot;2741000000559&quot;/&gt;&lt;/subjectareas&gt;&lt;tablestructure&gt;&lt;columns&gt;&lt;column name=&quot;id&quot; type=&quot;bigint&quot; id=&quot;1&quot;/&gt;&lt;column name=&quot;name&quot; type=&quot;character varying&quot; id=&quot;2&quot;/&gt;&lt;column name=&quot;role&quot; type=&quot;character varying&quot; id=&quot;3&quot;/&gt;&lt;/columns&gt;&lt;/tablestructure&gt;&lt;/data&gt;&lt;/params&gt;"/><t15 sCheck="573"><r nid="2741000001140" ndashboardid="2741000001140" nparentdashboardid="5" ndashboardtypeid="15" ndashboardposition="3387" ndynamictypeid="3" sdefaultparamname="" nobjecttypeid="2" ninsidermask="0" ndisplaystateid="7" sdashboardtitle_ru="Управленческий монитор - Смирнова П." sdashboardtitle_en="Управленческий монитор - Смирнова П." ntargetdbplatformtype="1" isaienabled="false"/><r nid="2741000001143" ndashboardid="2741000001143" nparentdashboardid="5" ndashboardtypeid="15" ndashboardposition="3390" ndynamictypeid="3" nobjecttypeid="2" ninsidermask="0" ndisplaystateid="7" sdashboardtitle_ru="Управленческий монитор_тест" sdashboardtitle_en="New Dashboard " ntargetdbplatformtype="1"/><r nid="2741000001227" ndashboardid="2741000001227" nparentdashboardid="5" ndashboardtypeid="15" ndashboardposition="3387" ndynamictypeid="3" sdefaultparamname="" nobjecttypeid="2" ninsidermask="0" ndisplaystateid="7" sdashboardtitle_ru="УПР" sdashboardtitle_en="УПР" ntargetdbplatformtype="1" isaienabled="false"/></t15><t16 sCheck="331"><r nid="2741000001143" sname_ru="Управленческий монитор_тест" sname_en="New Dashboard " isdefault="0" nobjectid="2741000001143" nmenuitemposition="2741000001143" ndisplaystateid="7" isservice="false" ndisplayenvironmentid="1" ndisplayplatformid="7" ndisplaydbplatformid="3"/><r nid="2741000001140" sname_ru="Управленческий монитор - Смирнова П." sname_en="Управленческий монитор - Смирнова П." isdefault="0" nobjectid="2741000001140" nmenuitemposition="2741000001140" ndisplaystateid="7" isservice="false" ndisplayenvironmentid="1" ndisplayplatformid="7" ndisplaydbplatformid="3"/><r nid="2741000001227" sname_ru="УПР" sname_en="УПР" isdefault="0" nobjectid="2741000001227" nmenuitemposition="2741000001227" ndisplaystateid="7" isservice="false" ndisplayenvironmentid="1" ndisplayplatformid="7" ndisplaydbplatformid="3"/></t16><t17 sCheck="633"><r nid="2741000003812" ndashboardid="2741000001143" sname_ru="Новый экран " sname_en="Новый экран " ntype="1" nshrinktype="1" nwidth="100" nheight="100" norder="1" ishidebreadcrumbs="false" isdisablepadding="false" nlayouttype="1" isstretchlastwidgettotheendofscreen="false" isstretchallwidgetstothesidesofscreen="true" isaienabled="false"/><r nid="2741000004268" ndashboardid="2741000001227" sname_ru="Финансовые отчеты (проба со структурой)" sname_en="Финансовые отчеты (проба со структурой)" ntype="1" nshrinktype="1" nwidth="20" nheight="20" norder="1" ishidebreadcrumbs="false" isdisablepadding="true" nlayouttype="1" isstretchlastwidgettotheendofscreen="false" isstretchallwidgetstothesidesofscreen="false" isaienabled="false"/><r nid="2741000004322" ndashboardid="2741000001140" sname_ru="old version (поиск - текстовое поле)" sname_en="old version (поиск - текстовое поле)" ntype="1" nshrinktype="1" nwidth="50" nheight="50" norder="2" stitle_ru="Финансовые отчёты" stitle_en="Финансовые отчёты" ishidebreadcrumbs="false" isdisablepadding="true" nlayouttype="1" isstretchlastwidgettotheendofscreen="false" isstretchallwidgetstothesidesofscreen="false" isaienabled="false"/><r nid="2741000004402" ndashboardid="2741000001140" sname_ru="new version (поиск - выпадающий список)" sname_en="new version (поиск - выпадающий список)" ntype="3" nshrinktype="1" nwidth="50" nheight="50" norder="1" stitle_ru="Финансовые отчеты" stitle_en="Финансовые отчеты" ishidebreadcrumbs="false" isdisablepadding="true" nlayouttype="1" isstretchlastwidgettotheendofscreen="false" isstretchallwidgetstothesidesofscreen="false" isaienabled="false"/></t17><t19 sCheck="739"><r nid="2741000021098" nscreenid="2741000003812" nwidgettypeid="102" sname_ru="Папки" sname_en="Папки" nxcoord="0" nycoord="0" nwidth="100" nheight="55" norder="2" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;YRBBSFhGGwLD&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;s9ZrcrMDdxTY&quot; sName=&quot;nid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;BqjfJHEoco6J&quot; sName=&quot;nparentid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nparentid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;HXgmlNjYxAHb&quot; sName=&quot;dtcreate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;dtcreate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;tzIeYgn4LuF5&quot; sName=&quot;dtmodify&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;dtmodify&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;NxicKKlTeA6q&quot; sName=&quot;ncreateuserid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ncreateuserid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;d976KtrltKXT&quot; sName=&quot;nmodifyuserid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nmodifyuserid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;AfPxbyueIDnm&quot; sName=&quot;nord&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nord&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;I6dTYYLBqVIb&quot; sName=&quot;sname&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sname&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;eAVGMVzcnbSp&quot; sName=&quot;sdesc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sdesc&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;QnG7F7VaXRAn&quot; sName=&quot;ndisplaystateid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ndisplaystateid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;VyUDHryHqYSX&quot; sName=&quot;nimageid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nimageid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;mIsrjyzsVzGx&quot; sName=&quot;sinsiderdesc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sinsiderdesc&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Q92m4GIP7pDa&quot; sName=&quot;nquotasize&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nquotasize&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;mow5QJhHwGtQ&quot; sName=&quot;isfixpermission&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;isfixpermission&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Rd6FLDBIZtC4&quot; sName=&quot;ninsidermask&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ninsidermask&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;o6PXFwXZQEZw&quot; sName=&quot;shexcolor&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;shexcolor&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;rh1rp4sa5LoT&quot; sName=&quot;isaienabled&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;isaienabled&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;qtKtSOhpwKfx&quot; sName=&quot;isetlenabled&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;isetlenabled&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;z8uBZXfk6B0J&quot; sName=&quot;isaisearchenabled&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;isaisearchenabled&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;rIklQkOKyzS2&quot; sName=&quot;isaudit&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;isaudit&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;BqjfJHEoco6J&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;select * from rb.group&#10;where nid = 10184&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot; sDataSetID=&quot;YRBBSFhGGwLD&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="false" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000021099" nscreenid="2741000003812" nwidgettypeid="102" sname_ru="Файлы" sname_en="Файлы" nxcoord="0" nycoord="55" nwidth="100" nheight="55" norder="3" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;sdnEvBxs2TU0&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;nKPJL0hVds9I&quot; sName=&quot;nid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vdfbmphepndL&quot; sName=&quot;sname&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sname&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;bx18oU02eP7y&quot; sName=&quot;sdesc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sdesc&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;xw9FdxoKKQ3p&quot; sName=&quot;dtcreate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;dtcreate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Bdl49kuBKQz4&quot; sName=&quot;dtmodify&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;dtmodify&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;nbuRJfR2ez6r&quot; sName=&quot;dtactual&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;dtactual&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;NPhd3e3F0OlG&quot; sName=&quot;ncreateuserid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ncreateuserid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;kubdJTJhjNwV&quot; sName=&quot;nmodifyuserid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nmodifyuserid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Uq5Xe1wUHVFH&quot; sName=&quot;nord&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nord&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;MwIUJT1mA6qX&quot; sName=&quot;ndisplaystateid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ndisplaystateid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;TpCaqn4y8Ch3&quot; sName=&quot;ngroupid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ngroupid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;bZrjf8MZtdPL&quot; sName=&quot;smanual&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;smanual&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;PC4heTzjBUDA&quot; sName=&quot;saccess&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;saccess&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;N5ktEgGkLPPg&quot; sName=&quot;isfixpermission&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;isfixpermission&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;fa5qOgIMVHqw&quot; sName=&quot;sauthor&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sauthor&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;nTDHoD5jPZkz&quot; sName=&quot;issaveversions&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;issaveversions&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;UHMDwADgwnbJ&quot; sName=&quot;ssource&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ssource&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;hpJpkpMhBYH3&quot; sName=&quot;issummaryaigenerated&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;issummaryaigenerated&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;n3kwDcSr3wUY&quot; sName=&quot;isaisearchgenerated&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;isaisearchgenerated&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;select * from rb.report&#10;where nid = 10329&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot; sDataSetID=&quot;sdnEvBxs2TU0&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="false" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000021103" nscreenid="2741000003812" nwidgettypeid="102" sname_ru="Таблица" sname_en="Таблица" nxcoord="0" nycoord="110" nwidth="100" nheight="33" norder="1" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;r2gamD4Lwcrq&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Kcto0qFK8VAV&quot; sName=&quot;nid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;wphcOAsWZWkt&quot; sName=&quot;susername&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;susername&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;qkvYkKre1y1Q&quot; sName=&quot;slocalizationcode&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;slocalizationcode&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;YO7raJjV9KxZ&quot; sName=&quot;slogin&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;slogin&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;LGws7SE6XyQr&quot; sName=&quot;sfirstname&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sfirstname&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;JFM28X0k0fgi&quot; sName=&quot;slastname&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;slastname&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;r935JjspqjpW&quot; sName=&quot;smiddlename&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;smiddlename&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;UKkSTEMF55l1&quot; sName=&quot;sshortname&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sshortname&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;PmlwBFt7oNo3&quot; sName=&quot;nsapdepartment&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nsapdepartment&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;gfb5EwQCadD6&quot; sName=&quot;spersonnelnumber&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;spersonnelnumber&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;jXvWOJ8xGzs7&quot; sName=&quot;sip&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sip&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;irwmu4BpKG07&quot; sName=&quot;semail&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;semail&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;l8xLEvcdPO07&quot; sName=&quot;semailad&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;semailad&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;EaPE7lA8frQR&quot; sName=&quot;nuserphotoid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nuserphotoid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;apWxWnVo4AjE&quot; sName=&quot;sphone&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sphone&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;kRzxLBjpP2XS&quot; sName=&quot;sposition&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sposition&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;v9twlw9cCkKI&quot; sName=&quot;dtcreatedate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;dtcreatedate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;frdrFvMt2GLf&quot; sName=&quot;isactive&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;isactive&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;aNmx9ockIMch&quot; sName=&quot;scomment&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;scomment&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;LHD0X6wBwJzm&quot; sName=&quot;sivuser&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sivuser&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;gGyv3RUMZK5l&quot; sName=&quot;ssberpdi&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ssberpdi&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;NHS9M7P0X4Qj&quot; sName=&quot;sinsiderdesc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sinsiderdesc&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;oG6MtCxYqfZN&quot; sName=&quot;ssapdepartment&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ssapdepartment&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;lVXaHLTFCmIW&quot; sName=&quot;sdepartment&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sdepartment&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;tRMXA5tQFZvL&quot; sName=&quot;ninsidermask&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ninsidermask&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;O4VQu4cmbrrf&quot; sName=&quot;isvip&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;isvip&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;rwuWkAMSKDsS&quot; sName=&quot;istech&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;istech&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;k8PGW47gLxR3&quot; sName=&quot;ismanualtimezone&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ismanualtimezone&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;o54txxi1lyxq&quot; sName=&quot;stimezone&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;stimezone&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;uCRoeNqzIbK6&quot; sName=&quot;semailsec&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;semailsec&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;select * from rm.tuser&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot; sDataSetID=&quot;r2gamD4Lwcrq&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="false" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000021163" nscreenid="2741000003812" nwidgettypeid="102" sname_ru="Таблица" sname_en="Таблица" nxcoord="0" nycoord="143" nwidth="100" nheight="33" norder="4" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;QFyNXo5UmXkM&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;BsBHDDbCdIL3&quot; sName=&quot;nuserid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nuserid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;y4PZHpOmtmTy&quot; sName=&quot;nroleid&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;nroleid&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;select * from rm.tuserrole&#10;where nuserid = 10075&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="false" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000023928" nscreenid="2741000004268" nwidgettypeid="102" sname_ru="Структура" sname_en="Структура" nxcoord="0" nycoord="0" nwidth="5" nheight="19" norder="2" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;YR07pJ6lCXlH&quot; sName=&quot;Основная таблица&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;EEq018cw49G6&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Iisyrr93sHFN&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;WTG51issiCoq&quot; sName=&quot;coupling&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;    WHEN level_2 IS NOT NULL&amp;#xA;        THEN level_2&amp;#xA;    WHEN level_2 IS NULL AND level_1 IS NOT NULL &amp;#xA;        THEN level_1 &amp;#xA;END&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;UeYf1xbYHwfQ&quot; sName=&quot;sort&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sort&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;MB8D0tcVX3cC&quot; sName=&quot;ord&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN level_2 = 'Нормативы ВПОДК (факторы вли-я)'&amp;#xA;THEN 0&amp;#xA;ELSE ROW_NUMBER() OVER (ORDER BY sort) &amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;PuVlsVXP5K0m&quot; sName=&quot;sortirovka&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN [**aa] is null &amp;#xA;THEN ((ROW_NUMBER() OVER (ORDER BY sort)) = [**hh]) :: INT&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;UeYf1xbYHwfQ&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;&#10;SELECT&#10;    level_1,&#10;    level_2,&#10;    MIN(sort) AS sort&#10;FROM&#10;    src.psb_fin_blok_struktura_2741000004604&#10;GROUP BY&#10;    ROLLUP(level_1, level_2)&#10;HAVING&#10;    NOT (level_1 IS NULL AND level_2 IS NULL)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;0&quot; sDataSetID=&quot;YR07pJ6lCXlH&quot; isHeaderHidden=&quot;1&quot; isSortDisabled=&quot;0&quot;&gt;&lt;hierarchy sType=&quot;byColumns&quot; sExpandLevels=&quot;none&quot;&gt;&lt;column sFieldID=&quot;EEq018cw49G6&quot;&gt;&lt;/column&gt;&lt;column sFieldID=&quot;Iisyrr93sHFN&quot;&gt;&lt;/column&gt;&lt;/hierarchy&gt;&lt;experimental isDisableVirtualization=&quot;0&quot;&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column nWidth=&quot;50&quot; isHighlightColumn=&quot;0&quot; isScrollToColumn=&quot;0&quot; isHidePaddings=&quot;0&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;WTG51issiCoq&quot;&gt;&lt;styleRule sFontSize=&quot;custom&quot; sTextColor=&quot;#ffffff&quot; nFontScale=&quot;95&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;EEq018cw49G6&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_2&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;Iisyrr93sHFN&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;help&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;WTG51issiCoq&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;hh&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;MB8D0tcVX3cC&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;styleRule sFontSize=&quot;default&quot; sCondition=&quot;=YR07pJ6lCXlH.PuVlsVXP5K0m&quot; isHighlightRow=&quot;1&quot; isArrowVisible=&quot;0&quot; sBgColor=&quot;#ea5614&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;styleRule sFontSize=&quot;default&quot;&gt;&lt;/styleRule&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" nbackgroundtype="3" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="false" isaienabled="true"/><r nid="2741000023929" nscreenid="2741000004268" nwidgettypeid="22" sname_ru="Панель фильтров" sname_en="Панель фильтров" nxcoord="0" nycoord="0" nwidth="20" nheight="1" norder="1" ishidden="0" nviewtype="2" xparams="&lt;data&gt;&lt;/data&gt;" isisolated="false" ishidewidgethead="false" nbackgroundtype="3" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="false" isaienabled="true"/><r nid="2741000023930" nscreenid="2741000004268" nwidgettypeid="102" sname_ru="Таблица - Главная" sname_en="Таблица - Главная" nxcoord="5" nycoord="0" nwidth="15" nheight="19" norder="3" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;JEXCiqm9cb6u&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;sCQrkkH9OhdE&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE level_3&amp;#xA;WHEN 'Ежедневно' THEN 1&amp;#xA;WHEN 'Еженедельно' THEN 2&amp;#xA;WHEN 'Ежемесячно' THEN 3&amp;#xA;WHEN 'Ежеквартально' THEN 4&amp;#xA;ELSE 5&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SeHNGHuGLXR4&quot; sName=&quot;tab&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;[**tab1]&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;ps8uZFHHRjxw&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vgyD98wxeIYs&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;XGSLJI71d0UK&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;a7OmopYuJzxA&quot; sName=&quot;level_3&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_3&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;cBVdRllQtizT&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;fB5JPpBYY4Sm&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;p7x6UEZtGdKm&quot; sName=&quot;name_doc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_doc&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;koQxoLjY5OsM&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;x8d0IdPqKydc&quot; sName=&quot;name&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;JnSOVVihDiUT&quot; sName=&quot;number&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;number&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SFPs0kOXXLLl&quot; sName=&quot;role&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;role&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;yveS38u8wyTu&quot; sName=&quot;url&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;url&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;uP5HOFanDr5P&quot; sName=&quot;name_short&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_short&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;hSmiHM4hy2PB&quot; sName=&quot;dashboard&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE &amp;#xA;WHEN name_folder LIKE '%Дэшбор%'&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;koQxoLjY5OsM&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;ps8uZFHHRjxw&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;a7OmopYuJzxA&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;x8d0IdPqKydc&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;XGSLJI71d0UK&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END&#10;AND name_folder in ([**rr])&#10;AND level_2 IN (CASE WHEN [**aa] is null THEN [**bb] ELSE level_2 END)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot; sDataSetID=&quot;JEXCiqm9cb6u&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column sNameDataSetID=&quot;JEXCiqm9cb6u&quot; sName=&quot;Бизнес-блок&quot; nWidth=&quot;150&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;koQxoLjY5OsM&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Финансовые отчеты&quot; nWidth=&quot;150&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;ps8uZFHHRjxw&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Переход на дэшборд&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;100&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.yveS38u8wyTu is not null&quot;&gt;&lt;icon sCode=&quot;4BE331FD&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openInternalLink&quot;&gt;&lt;arg sName=&quot;url&quot; sFieldID=&quot;yveS38u8wyTu&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Скачать PDF&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;90&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.hSmiHM4hy2PB=0&quot;&gt;&lt;icon sCode=&quot;75F4F39F&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openReport&quot;&gt;&lt;arg sName=&quot;reportId&quot; sFieldID=&quot;p7x6UEZtGdKm&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Владелец отчета&quot; nWidth=&quot;140&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;uP5HOFanDr5P&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Контакты&quot; nWidth=&quot;120&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;JnSOVVihDiUT&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Дата отчета&quot; nWidth=&quot;110&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;XGSLJI71d0UK&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;&quot; sNameDataSetID=&quot;JEXCiqm9cb6u&quot; nWidth=&quot;45&quot; sFontAlign=&quot;right&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежедневно'&quot;&gt;&lt;image sID=&quot;1021468&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежедневно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Еженедельно'&quot;&gt;&lt;image sID=&quot;1021469&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Еженедельно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежемесячно'&quot;&gt;&lt;image sID=&quot;1021470&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежемесячно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежеквартаьно'&quot;&gt;&lt;image sID=&quot;1021471&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежеквартально&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Периодичность&quot; nWidth=&quot;120&quot; sFontAlign=&quot;left&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Архив&quot; nWidth=&quot;80&quot; sFontAlign=&quot;middle&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.SeHNGHuGLXR4='Главная'&quot;&gt;&lt;icon sCode=&quot;C87A02F3&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;ps8uZFHHRjxw&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;koQxoLjY5OsM&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;fB5JPpBYY4Sm&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;bb&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;cBVdRllQtizT&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Архив&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000023958" nscreenid="2741000004268" nwidgettypeid="102" sname_ru="Таблица - Архив" sname_en="Таблица - Архив" nxcoord="5" nycoord="0" nwidth="15" nheight="19" norder="4" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;JEXCiqm9cb6u&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;sCQrkkH9OhdE&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE level_3&amp;#xA;WHEN 'Ежедневно' THEN 1&amp;#xA;WHEN 'Еженедельно' THEN 2&amp;#xA;WHEN 'Ежемесячно' THEN 3&amp;#xA;WHEN 'Ежеквартально' THEN 4&amp;#xA;ELSE 5&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SeHNGHuGLXR4&quot; sName=&quot;tab&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;[**tab1]&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;ps8uZFHHRjxw&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vgyD98wxeIYs&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;XGSLJI71d0UK&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;a7OmopYuJzxA&quot; sName=&quot;level_3&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_3&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;cBVdRllQtizT&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;fB5JPpBYY4Sm&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;p7x6UEZtGdKm&quot; sName=&quot;name_doc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_doc&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;koQxoLjY5OsM&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;x8d0IdPqKydc&quot; sName=&quot;name&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;JnSOVVihDiUT&quot; sName=&quot;number&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;number&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SFPs0kOXXLLl&quot; sName=&quot;role&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;role&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;yveS38u8wyTu&quot; sName=&quot;url&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;url&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;uP5HOFanDr5P&quot; sName=&quot;name_short&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_short&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;FL86WIkGgIya&quot; sName=&quot;dashboard&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE &amp;#xA;WHEN name_folder LIKE '%Дэшбор%'&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;koQxoLjY5OsM&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;ps8uZFHHRjxw&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;a7OmopYuJzxA&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;x8d0IdPqKydc&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;XGSLJI71d0UK&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND g.sname IN (CASE WHEN [**aa] is null THEN [**bb] ELSE g.sname END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short&#10;FROM cte&#10;WHERE&#10;       rn &amp;lt;&amp;gt; 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate]&#10;              ELSE ddate &amp;lt;= [**ddate3]&#10;              END&#10;AND name_folder in ([**rr])&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;dataset sID=&quot;M7MwvghMYBVB&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;tHGLcDpIVkbg&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;IfrDTaQDL5LC&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;MaSMciZnVsVj&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;xbhHZOwzjAlh&quot; sName=&quot;level_3&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_3&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;zYMeeOBpwdX6&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;ColuU0gyUhs6&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;HPgs1bdW7xvA&quot; sName=&quot;name_doc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_doc&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;JbxtEYqhI8Gd&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;xYKCEXhWEWj6&quot; sName=&quot;name&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;MgejepTHiGie&quot; sName=&quot;number&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;number&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;xcy90ld6NJfc&quot; sName=&quot;role&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;role&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;nTqlofoLYqwj&quot; sName=&quot;url&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;url&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;F5ow6uAykzbi&quot; sName=&quot;name_short&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_short&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short&#10;FROM cte&#10;WHERE&#10;       rn &amp;lt;&amp;gt; 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate]&#10;              ELSE ddate &amp;lt;= [**ddate3]&#10;              END&#10;AND name_folder in ([**rr])&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot; sDataSetID=&quot;JEXCiqm9cb6u&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column sNameDataSetID=&quot;JEXCiqm9cb6u&quot; sName=&quot;Бизнес-блок&quot; nWidth=&quot;150&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;koQxoLjY5OsM&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Финансовые отчеты&quot; nWidth=&quot;150&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;ps8uZFHHRjxw&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Переход на дэшборд&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;100&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.yveS38u8wyTu is not null&amp;#xA;&quot;&gt;&lt;icon sCode=&quot;4BE331FD&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openInternalLink&quot;&gt;&lt;arg sName=&quot;url&quot; sFieldID=&quot;yveS38u8wyTu&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Скачать PDF&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;90&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.FL86WIkGgIya=0&quot;&gt;&lt;icon sCode=&quot;75F4F39F&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openReport&quot;&gt;&lt;arg sName=&quot;reportId&quot; sFieldID=&quot;p7x6UEZtGdKm&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Владелец отчета&quot; nWidth=&quot;140&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;uP5HOFanDr5P&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Контакты&quot; nWidth=&quot;120&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;JnSOVVihDiUT&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Дата отчета&quot; nWidth=&quot;110&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;XGSLJI71d0UK&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;&quot; sNameDataSetID=&quot;JEXCiqm9cb6u&quot; nWidth=&quot;45&quot; sFontAlign=&quot;right&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежедневно'&quot;&gt;&lt;image sID=&quot;1021468&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежедневно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Еженедельно'&quot;&gt;&lt;image sID=&quot;1021469&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Еженедельно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежемесячно'&quot;&gt;&lt;image sID=&quot;1021470&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежемесячно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежеквартаьно'&quot;&gt;&lt;image sID=&quot;1021471&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежеквартально&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Периодичность&quot; nWidth=&quot;120&quot; sFontAlign=&quot;left&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Главная&quot; nWidth=&quot;80&quot; sFontAlign=&quot;middle&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.SeHNGHuGLXR4='Архив'&quot;&gt;&lt;icon sCode=&quot;14D20360&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Главная&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000024331" nscreenid="2741000004322" nwidgettypeid="102" sname_ru="Таблица - Архив" sname_en="Таблица - Архив" nxcoord="11" nycoord="0" nwidth="39" nheight="38" norder="4" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;JEXCiqm9cb6u&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;sCQrkkH9OhdE&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE level_3&amp;#xA;WHEN 'Ежедневно' THEN 1&amp;#xA;WHEN 'Еженедельно' THEN 2&amp;#xA;WHEN 'Ежемесячно' THEN 3&amp;#xA;WHEN 'Ежеквартально' THEN 4&amp;#xA;ELSE 5&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SeHNGHuGLXR4&quot; sName=&quot;tab&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;[**tab1]&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;ps8uZFHHRjxw&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vgyD98wxeIYs&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;XGSLJI71d0UK&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;a7OmopYuJzxA&quot; sName=&quot;level_3&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_3&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;cBVdRllQtizT&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;fB5JPpBYY4Sm&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;p7x6UEZtGdKm&quot; sName=&quot;name_doc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_doc&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;koQxoLjY5OsM&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;x8d0IdPqKydc&quot; sName=&quot;name&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;JnSOVVihDiUT&quot; sName=&quot;number&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;number&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SFPs0kOXXLLl&quot; sName=&quot;role&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;role&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;yveS38u8wyTu&quot; sName=&quot;url&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;url&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;uP5HOFanDr5P&quot; sName=&quot;name_short&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_short&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;FL86WIkGgIya&quot; sName=&quot;dashboard&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE &amp;#xA;WHEN name_folder LIKE '%Дэшбор%'&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;koQxoLjY5OsM&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;ps8uZFHHRjxw&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;a7OmopYuJzxA&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;x8d0IdPqKydc&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;XGSLJI71d0UK&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short&#10;FROM cte&#10;WHERE&#10;       rn &amp;lt;&amp;gt; 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate]&#10;              ELSE ddate &amp;lt;= [**ddate3]&#10;              END&#10;AND name_folder in ([**rr])&#10;AND   &#10;CASE WHEN [**aa] is not null THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END&#10;AND name_folder LIKE '%'||CASE WHEN [**aa] is null THEN name_folder ELSE [**aa] END||'%' &lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot; sDataSetID=&quot;JEXCiqm9cb6u&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column sNameDataSetID=&quot;JEXCiqm9cb6u&quot; sName=&quot;Бизнес-блок&quot; nWidth=&quot;150&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;koQxoLjY5OsM&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Финансовые отчеты&quot; nWidth=&quot;150&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;ps8uZFHHRjxw&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Переход на дэшборд&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;100&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.yveS38u8wyTu is not null&amp;#xA;&quot;&gt;&lt;icon sCode=&quot;4BE331FD&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openInternalLink&quot;&gt;&lt;arg sName=&quot;url&quot; sFieldID=&quot;yveS38u8wyTu&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Скачать PDF&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;90&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.FL86WIkGgIya=0&quot;&gt;&lt;icon sCode=&quot;75F4F39F&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openReport&quot;&gt;&lt;arg sName=&quot;reportId&quot; sFieldID=&quot;p7x6UEZtGdKm&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Владелец отчета&quot; nWidth=&quot;140&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;uP5HOFanDr5P&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Контакты&quot; nWidth=&quot;120&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;JnSOVVihDiUT&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Дата отчета&quot; nWidth=&quot;110&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;XGSLJI71d0UK&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;&quot; sNameDataSetID=&quot;JEXCiqm9cb6u&quot; nWidth=&quot;45&quot; sFontAlign=&quot;right&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежедневно'&quot;&gt;&lt;image sID=&quot;1021468&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежедневно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Еженедельно'&quot;&gt;&lt;image sID=&quot;1021469&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Еженедельно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежемесячно'&quot;&gt;&lt;image sID=&quot;1021470&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежемесячно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежеквартаьно'&quot;&gt;&lt;image sID=&quot;1021471&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежеквартально&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Периодичность&quot; nWidth=&quot;120&quot; sFontAlign=&quot;left&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Главная&quot; nWidth=&quot;80&quot; sFontAlign=&quot;middle&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.SeHNGHuGLXR4='Архив'&quot;&gt;&lt;icon sCode=&quot;14D20360&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Главная&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000024332" nscreenid="2741000004322" nwidgettypeid="22" sname_ru="Панель фильтров" sname_en="Панель фильтров" nxcoord="0" nycoord="0" nwidth="20" nheight="1" norder="1" ishidden="0" nviewtype="2" xparams="&lt;data&gt;&lt;/data&gt;" isisolated="false" ishidewidgethead="false" nbackgroundtype="3" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="false" isaienabled="true"/><r nid="2741000024333" nscreenid="2741000004322" nwidgettypeid="102" sname_ru="Таблица - Главная" sname_en="Таблица - Главная" nxcoord="11" nycoord="0" nwidth="39" nheight="38" norder="3" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;JEXCiqm9cb6u&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;sCQrkkH9OhdE&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE level_3&amp;#xA;WHEN 'Ежедневно' THEN 1&amp;#xA;WHEN 'Еженедельно' THEN 2&amp;#xA;WHEN 'Ежемесячно' THEN 3&amp;#xA;WHEN 'Ежеквартально' THEN 4&amp;#xA;ELSE 5&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SeHNGHuGLXR4&quot; sName=&quot;tab&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;[**tab1]&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;ps8uZFHHRjxw&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vgyD98wxeIYs&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;XGSLJI71d0UK&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;a7OmopYuJzxA&quot; sName=&quot;level_3&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_3&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;cBVdRllQtizT&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;fB5JPpBYY4Sm&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;p7x6UEZtGdKm&quot; sName=&quot;name_doc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_doc&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;koQxoLjY5OsM&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;x8d0IdPqKydc&quot; sName=&quot;name&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;JnSOVVihDiUT&quot; sName=&quot;number&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;number&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SFPs0kOXXLLl&quot; sName=&quot;role&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;role&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;yveS38u8wyTu&quot; sName=&quot;url&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;url&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;uP5HOFanDr5P&quot; sName=&quot;name_short&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_short&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;hSmiHM4hy2PB&quot; sName=&quot;dashboard&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE &amp;#xA;WHEN name_folder LIKE '%Дэшбор%'&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;koQxoLjY5OsM&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;ps8uZFHHRjxw&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;a7OmopYuJzxA&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;x8d0IdPqKydc&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;XGSLJI71d0UK&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END&#10;AND name_folder in ([**rr])&#10;AND   &#10;CASE WHEN [**aa] is not null THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END&#10;AND name_folder LIKE '%'||CASE WHEN [**aa] is null THEN name_folder ELSE [**aa] END||'%' &lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot; sDataSetID=&quot;JEXCiqm9cb6u&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column sNameDataSetID=&quot;JEXCiqm9cb6u&quot; sName=&quot;Бизнес-блок&quot; nWidth=&quot;150&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;koQxoLjY5OsM&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Финансовые отчеты&quot; nWidth=&quot;150&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;ps8uZFHHRjxw&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Переход на дэшборд&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;100&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.yveS38u8wyTu is not null&quot;&gt;&lt;icon sCode=&quot;4BE331FD&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openInternalLink&quot;&gt;&lt;arg sName=&quot;url&quot; sFieldID=&quot;yveS38u8wyTu&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Скачать PDF&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;90&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.hSmiHM4hy2PB=0&quot;&gt;&lt;icon sCode=&quot;75F4F39F&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openReport&quot;&gt;&lt;arg sName=&quot;reportId&quot; sFieldID=&quot;p7x6UEZtGdKm&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Владелец отчета&quot; nWidth=&quot;140&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;uP5HOFanDr5P&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Контакты&quot; nWidth=&quot;120&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;JnSOVVihDiUT&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Дата отчета&quot; nWidth=&quot;110&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;XGSLJI71d0UK&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;&quot; sNameDataSetID=&quot;JEXCiqm9cb6u&quot; nWidth=&quot;45&quot; sFontAlign=&quot;right&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежедневно'&quot;&gt;&lt;image sID=&quot;1021468&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Еженедельно'&quot;&gt;&lt;image sID=&quot;1021469&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежемесячно'&quot;&gt;&lt;image sID=&quot;1021470&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежеквартаьно'&quot;&gt;&lt;image sID=&quot;1021471&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Периодичность&quot; nWidth=&quot;120&quot; sFontAlign=&quot;left&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Архив&quot; nWidth=&quot;80&quot; sFontAlign=&quot;middle&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.SeHNGHuGLXR4='Главная'&quot;&gt;&lt;icon sCode=&quot;C87A02F3&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;ps8uZFHHRjxw&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;koQxoLjY5OsM&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;fB5JPpBYY4Sm&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;bb&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;cBVdRllQtizT&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Архив&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000024334" nscreenid="2741000004322" nwidgettypeid="102" sname_ru="Структура" sname_en="Структура" nxcoord="0" nycoord="0" nwidth="11" nheight="38" norder="2" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;YR07pJ6lCXlH&quot; sName=&quot;Основная таблица&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;EEq018cw49G6&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Iisyrr93sHFN&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;WTG51issiCoq&quot; sName=&quot;coupling&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;    WHEN level_2 IS NOT NULL&amp;#xA;        THEN level_2&amp;#xA;    WHEN level_2 IS NULL AND level_1 IS NOT NULL &amp;#xA;        THEN level_1 &amp;#xA;END&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;UeYf1xbYHwfQ&quot; sName=&quot;sort&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sort&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;MB8D0tcVX3cC&quot; sName=&quot;ord&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN level_2 = 'Нормативы ВПОДК (факторы вли-я)'&amp;#xA;THEN 0&amp;#xA;ELSE ROW_NUMBER() OVER (ORDER BY sort) &amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;PuVlsVXP5K0m&quot; sName=&quot;sortirovka&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN [**aa] is null &amp;#xA;THEN ((ROW_NUMBER() OVER (ORDER BY sort)) = [**hh]) :: INT&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;UeYf1xbYHwfQ&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;&#10;SELECT&#10;    level_1,&#10;    level_2,&#10;    MIN(sort) AS sort&#10;FROM&#10;    src.psb_fin_blok_struktura_2741000004604&#10;GROUP BY&#10;    ROLLUP(level_1, level_2)&#10;HAVING&#10;    NOT (level_1 IS NULL AND level_2 IS NULL)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;0&quot; sDataSetID=&quot;YR07pJ6lCXlH&quot; isHeaderHidden=&quot;1&quot; isSortDisabled=&quot;0&quot;&gt;&lt;hierarchy sType=&quot;byColumns&quot; sExpandLevels=&quot;none&quot;&gt;&lt;column sFieldID=&quot;EEq018cw49G6&quot;&gt;&lt;/column&gt;&lt;column sFieldID=&quot;Iisyrr93sHFN&quot;&gt;&lt;/column&gt;&lt;/hierarchy&gt;&lt;experimental isDisableVirtualization=&quot;0&quot;&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column nWidth=&quot;50&quot; isHighlightColumn=&quot;0&quot; isScrollToColumn=&quot;0&quot; isHidePaddings=&quot;0&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;WTG51issiCoq&quot;&gt;&lt;styleRule sFontSize=&quot;custom&quot; sTextColor=&quot;#ffffff&quot; nFontScale=&quot;95&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;EEq018cw49G6&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_2&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;Iisyrr93sHFN&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;help&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;WTG51issiCoq&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;hh&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;MB8D0tcVX3cC&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;styleRule sFontSize=&quot;default&quot; sCondition=&quot;=YR07pJ6lCXlH.PuVlsVXP5K0m&quot; isHighlightRow=&quot;1&quot; isArrowVisible=&quot;0&quot; sBgColor=&quot;#ea5614&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;styleRule sFontSize=&quot;default&quot;&gt;&lt;/styleRule&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" nbackgroundtype="3" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="false" isaienabled="true"/><r nid="2741000024697" nscreenid="2741000004322" nwidgettypeid="123" sname_ru="Конструктор" sname_en="Конструктор" nxcoord="0" nycoord="35" nwidth="50" nheight="18" norder="5" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;egJuFcTglHlU&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;gQESFpgiOW5L&quot; sName=&quot;id_image&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;id_image&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vEmgcPPeZj6K&quot; sName=&quot;name_image&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_image&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;aX1cV3TEtyLY&quot; sName=&quot;share_to_widht_container&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;share_to_widht_container&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;deY6TA6x3hIg&quot; sName=&quot;sort&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sort&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;kw6xNfItcbIq&quot; sName=&quot;color&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;color&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;&#10;SELECT&#10;    id_image,&#10;    name_image,&#10;    1.000000 / (COUNT(*) OVER() + 1) AS Share_to_widht_container,&#10;    ROW_NUMBER() OVER() AS sort,&#10;    CASE&#10;        WHEN name_image = [**tab1]&#10;        THEN '#7C95AB70'&#10;        ELSE null&#10;        END AS color&#10;FROM (&#10;    VALUES&#10;    ('1021472','Главная'),&#10;    ('1021473', 'Архив')&#10;) AS t (id_image, name_image)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;designer&gt;&lt;variableGroup&gt;&lt;variable sName=&quot;all_w&quot; sValue=&quot;=canvas_width&amp;#xA;&quot;&gt;&lt;/variable&gt;&lt;variable sName=&quot;all_h&quot; sValue=&quot;=canvas_height&quot;&gt;&lt;/variable&gt;&lt;variable sName=&quot;size_icon&quot; sValue=&quot;=60&amp;#xA;&quot;&gt;&lt;/variable&gt;&lt;variable sName=&quot;indent_inner&quot; sValue=&quot;=100&quot;&gt;&lt;/variable&gt;&lt;/variableGroup&gt;&lt;item&gt;&lt;stack sHAlign=&quot;left&quot; sVAlign=&quot;top&quot; sPivot=&quot;middle&quot; sName=&quot;Тест число&quot; isHidden=&quot;1&quot;&gt;&lt;item&gt;&lt;number nScaleType=&quot;none&quot; sFontSize=&quot;default&quot; nValue=&quot;=egJuFcTglHlU.deY6TA6x3hIg&quot; sTextColor=&quot;#B160B3&quot;&gt;&lt;/number&gt;&lt;/item&gt;&lt;item&gt;&lt;text sFontSize=&quot;default&quot; sText=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/text&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sHAlign=&quot;right&quot; sVAlign=&quot;bottom&quot; sPivot=&quot;middle&quot; sName=&quot;general_element&quot;&gt;&lt;item&gt;&lt;figure sFigureType=&quot;rect&quot; nStrokeWidth=&quot;99&quot; nWidth=&quot;100&quot; nHeight=&quot;5&quot; nCornerRadius=&quot;5&quot;&gt;&lt;/figure&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;right&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot; nSeparation=&quot;10&quot; nPaddingRight=&quot;0&quot;&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;center&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot;&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;center&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot; sName=&quot;Линия сверху&quot; nPaddingTop=&quot;50&quot;&gt;&lt;item&gt;&lt;figure sFigureType=&quot;rect&quot; sFillColor=&quot;#7C95AB&quot; nWidth=&quot;=all_w&quot; nHeight=&quot;=all_h*0.13&quot;&gt;&lt;/figure&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;center&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot; sName=&quot;Линия снизу&quot; nPaddingTop=&quot;181&quot;&gt;&lt;item&gt;&lt;figure sFigureType=&quot;rect&quot; sFillColor=&quot;#000000&quot; nWidth=&quot;=all_w&quot; nHeight=&quot;=all_h*0.13&quot;&gt;&lt;/figure&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sType=&quot;h&quot; sHAlign=&quot;right&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle-right&quot; sName=&quot;Иконки&quot; nSeparation=&quot;=indent_inner&quot; nPaddingLeft=&quot;1100&quot; nPaddingTop=&quot;25&quot;&gt;&lt;item&gt;&lt;generator sDataSetID=&quot;egJuFcTglHlU&quot;&gt;&lt;item&gt;&lt;stack sHAlign=&quot;center&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle-left&quot; sName=&quot;main_element&quot;&gt;&lt;item&gt;&lt;figure sFigureType=&quot;circle&quot; sFillColor=&quot;#cccccc&quot; sStrokeColor=&quot;#000000&quot; nStrokeWidth=&quot;4&quot; nWidth=&quot;100&quot; nHeight=&quot;100&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/figure&gt;&lt;/item&gt;&lt;item&gt;&lt;image sID=&quot;=egJuFcTglHlU.gQESFpgiOW5L&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;=size_icon&quot; nHeight=&quot;=size_icon&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/image&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;center&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot; sName=&quot;Название&quot; nPaddingTop=&quot;155&quot;&gt;&lt;item&gt;&lt;figure sFigureType=&quot;rect&quot; sFillColor=&quot;=egJuFcTglHlU.kw6xNfItcbIq&quot; sStrokeColor=&quot;=egJuFcTglHlU.kw6xNfItcbIq&quot; nStrokeWidth=&quot;2&quot; nWidth=&quot;126&quot; nHeight=&quot;29&quot; nCornerRadius=&quot;5&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/figure&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;left&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot; nPaddingTop=&quot;0&quot;&gt;&lt;item&gt;&lt;text sFontSize=&quot;default&quot; sText=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot; sTextColor=&quot;ColorWhite&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/text&gt;&lt;/item&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/stack&gt;&lt;/item&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/stack&gt;&lt;/item&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/stack&gt;&lt;/item&gt;&lt;/generator&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;/designer&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" nbackgroundtype="3" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000024910" nscreenid="2741000004402" nwidgettypeid="102" sname_ru="Структура (старая версия)" sname_en="Структура (старая версия)" nxcoord="0" nycoord="0" nwidth="15" nheight="38" norder="2" ishidden="1" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;YR07pJ6lCXlH&quot; sName=&quot;Основная таблица&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;EEq018cw49G6&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Iisyrr93sHFN&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;WTG51issiCoq&quot; sName=&quot;coupling&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;    WHEN level_2 IS NOT NULL&amp;#xA;        THEN level_2&amp;#xA;    WHEN level_2 IS NULL AND level_1 IS NOT NULL &amp;#xA;        THEN level_1 &amp;#xA;END&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;UeYf1xbYHwfQ&quot; sName=&quot;sort&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sort&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;MB8D0tcVX3cC&quot; sName=&quot;ord&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN level_2 = 'Нормативы ВПОДК (факторы вли-я)'&amp;#xA;THEN 0&amp;#xA;ELSE ROW_NUMBER() OVER (ORDER BY sort) &amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;PuVlsVXP5K0m&quot; sName=&quot;sortirovka&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN [**proba] = 'Все' &amp;#xA;THEN ((ROW_NUMBER() OVER (ORDER BY sort)) = [**hh]) :: INT&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;UeYf1xbYHwfQ&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;&#10;SELECT&#10;    level_1,&#10;    level_2,&#10;    MIN(sort) AS sort&#10;FROM&#10;    src.psb_fin_blok_struktura_2741000004604&#10;GROUP BY&#10;    ROLLUP(level_1, level_2)&#10;HAVING&#10;    NOT (level_1 IS NULL AND level_2 IS NULL)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;0&quot; sDataSetID=&quot;YR07pJ6lCXlH&quot; isHeaderHidden=&quot;1&quot; isSortDisabled=&quot;0&quot;&gt;&lt;hierarchy sType=&quot;byColumns&quot; sExpandLevels=&quot;none&quot;&gt;&lt;column sFieldID=&quot;EEq018cw49G6&quot;&gt;&lt;/column&gt;&lt;column sFieldID=&quot;Iisyrr93sHFN&quot;&gt;&lt;/column&gt;&lt;/hierarchy&gt;&lt;experimental isDisableVirtualization=&quot;0&quot;&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column nWidth=&quot;50&quot; isHighlightColumn=&quot;0&quot; isScrollToColumn=&quot;0&quot; isHidePaddings=&quot;0&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;WTG51issiCoq&quot;&gt;&lt;styleRule sFontSize=&quot;custom&quot; sTextColor=&quot;#ffffff&quot; nFontScale=&quot;95&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;EEq018cw49G6&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_2&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;Iisyrr93sHFN&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;help&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;WTG51issiCoq&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;hh&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;MB8D0tcVX3cC&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;styleRule sFontSize=&quot;default&quot; sCondition=&quot;=YR07pJ6lCXlH.PuVlsVXP5K0m&quot; isHighlightRow=&quot;1&quot; isArrowVisible=&quot;0&quot; sBgColor=&quot;#ea5614&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" nbackgroundtype="3" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="false" isaienabled="true"/><r nid="2741000024911" nscreenid="2741000004402" nwidgettypeid="123" sname_ru="Конструктор" sname_en="Конструктор" nxcoord="0" nycoord="35" nwidth="50" nheight="18" norder="7" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;egJuFcTglHlU&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;gQESFpgiOW5L&quot; sName=&quot;id_image&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;id_image&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vEmgcPPeZj6K&quot; sName=&quot;name_image&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_image&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;aX1cV3TEtyLY&quot; sName=&quot;share_to_widht_container&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;share_to_widht_container&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;deY6TA6x3hIg&quot; sName=&quot;sort&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sort&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;kw6xNfItcbIq&quot; sName=&quot;color&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;color&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;&#10;SELECT&#10;    id_image,&#10;    name_image,&#10;    1.000000 / (COUNT(*) OVER() + 1) AS Share_to_widht_container,&#10;    ROW_NUMBER() OVER() AS sort,&#10;    CASE&#10;        WHEN name_image = [**tab1]&#10;        THEN '#7C95AB70'&#10;        ELSE null&#10;        END AS color&#10;FROM (&#10;    VALUES&#10;    ('1021472','Главная'),&#10;    ('1021473', 'Архив')&#10;) AS t (id_image, name_image)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;designer&gt;&lt;variableGroup&gt;&lt;variable sName=&quot;all_w&quot; sValue=&quot;=canvas_width&amp;#xA;&quot;&gt;&lt;/variable&gt;&lt;variable sName=&quot;all_h&quot; sValue=&quot;=canvas_height&quot;&gt;&lt;/variable&gt;&lt;variable sName=&quot;size_icon&quot; sValue=&quot;=60&amp;#xA;&quot;&gt;&lt;/variable&gt;&lt;variable sName=&quot;indent_inner&quot; sValue=&quot;=100&quot;&gt;&lt;/variable&gt;&lt;/variableGroup&gt;&lt;item&gt;&lt;stack sHAlign=&quot;left&quot; sVAlign=&quot;top&quot; sPivot=&quot;middle&quot; sName=&quot;Тест число&quot; isHidden=&quot;1&quot;&gt;&lt;item&gt;&lt;number nScaleType=&quot;none&quot; sFontSize=&quot;default&quot; nValue=&quot;=egJuFcTglHlU.deY6TA6x3hIg&quot; sTextColor=&quot;#B160B3&quot;&gt;&lt;/number&gt;&lt;/item&gt;&lt;item&gt;&lt;text sFontSize=&quot;default&quot; sText=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/text&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sHAlign=&quot;left&quot; sVAlign=&quot;bottom&quot; sPivot=&quot;middle&quot; sName=&quot;general_element&quot;&gt;&lt;item&gt;&lt;figure sFigureType=&quot;rect&quot; nStrokeWidth=&quot;99&quot; nWidth=&quot;100&quot; nHeight=&quot;5&quot; nCornerRadius=&quot;5&quot;&gt;&lt;/figure&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;right&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot; nSeparation=&quot;10&quot; nPaddingRight=&quot;0&quot;&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;center&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot;&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;center&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot; sName=&quot;Линия сверху&quot; nPaddingTop=&quot;50&quot;&gt;&lt;item&gt;&lt;figure sFigureType=&quot;rect&quot; sFillColor=&quot;#7C95AB&quot; nWidth=&quot;=all_w&quot; nHeight=&quot;=all_h*0.13&quot;&gt;&lt;/figure&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;center&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot; sName=&quot;Линия снизу&quot; nPaddingTop=&quot;181&quot;&gt;&lt;item&gt;&lt;figure sFigureType=&quot;rect&quot; sFillColor=&quot;#000000&quot; nWidth=&quot;=all_w&quot; nHeight=&quot;=all_h*0.13&quot;&gt;&lt;/figure&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sType=&quot;h&quot; sHAlign=&quot;right&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle-right&quot; sName=&quot;Иконки&quot; nSeparation=&quot;=indent_inner&quot; nPaddingLeft=&quot;1100&quot; nPaddingTop=&quot;25&quot;&gt;&lt;item&gt;&lt;generator sDataSetID=&quot;egJuFcTglHlU&quot;&gt;&lt;item&gt;&lt;stack sHAlign=&quot;center&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle-left&quot; sName=&quot;main_element&quot;&gt;&lt;item&gt;&lt;figure sFigureType=&quot;circle&quot; sFillColor=&quot;#cccccc&quot; sStrokeColor=&quot;#000000&quot; nStrokeWidth=&quot;4&quot; nWidth=&quot;100&quot; nHeight=&quot;100&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/figure&gt;&lt;/item&gt;&lt;item&gt;&lt;image sID=&quot;=egJuFcTglHlU.gQESFpgiOW5L&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;=size_icon&quot; nHeight=&quot;=size_icon&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/image&gt;&lt;/item&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;center&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot; sName=&quot;Название&quot; nPaddingTop=&quot;155&quot;&gt;&lt;item&gt;&lt;stack sType=&quot;Не задано&quot; sHAlign=&quot;left&quot; sVAlign=&quot;center&quot; sPivot=&quot;middle&quot; nPaddingTop=&quot;0&quot;&gt;&lt;item&gt;&lt;text sFontSize=&quot;default&quot; sText=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot; sTextColor=&quot;ColorWhite&quot; nMaxWidth=&quot;60&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/text&gt;&lt;/item&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/stack&gt;&lt;/item&gt;&lt;item&gt;&lt;figure sFigureType=&quot;rect&quot; sFillColor=&quot;=egJuFcTglHlU.kw6xNfItcbIq&quot; sStrokeColor=&quot;=egJuFcTglHlU.kw6xNfItcbIq&quot; nStrokeWidth=&quot;0&quot; nWidth=&quot;=126&quot; nHeight=&quot;=all_h*0.13&quot; nCornerRadius=&quot;5&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/figure&gt;&lt;/item&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/stack&gt;&lt;/item&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;=egJuFcTglHlU.vEmgcPPeZj6K&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/stack&gt;&lt;/item&gt;&lt;/generator&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;/stack&gt;&lt;/item&gt;&lt;/designer&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" nbackgroundtype="3" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000024912" nscreenid="2741000004402" nwidgettypeid="102" sname_ru="Таблица - Архив" sname_en="Таблица - Архив" nxcoord="15" nycoord="0" nwidth="35" nheight="38" norder="5" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;JEXCiqm9cb6u&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;sCQrkkH9OhdE&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE level_3&amp;#xA;WHEN 'Ежедневно' THEN 1&amp;#xA;WHEN 'Еженедельно' THEN 2&amp;#xA;WHEN 'Ежемесячно' THEN 3&amp;#xA;WHEN 'Ежеквартально' THEN 4&amp;#xA;ELSE 5&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SeHNGHuGLXR4&quot; sName=&quot;tab&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;[**tab1]&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;ps8uZFHHRjxw&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;M8y1UKukZIyM&quot; sName=&quot;name_report&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_report&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vgyD98wxeIYs&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;XGSLJI71d0UK&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;a7OmopYuJzxA&quot; sName=&quot;level_3&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_3&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;cBVdRllQtizT&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;fB5JPpBYY4Sm&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;p7x6UEZtGdKm&quot; sName=&quot;name_doc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_doc&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;koQxoLjY5OsM&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;x8d0IdPqKydc&quot; sName=&quot;name&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;JnSOVVihDiUT&quot; sName=&quot;number&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;number&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SFPs0kOXXLLl&quot; sName=&quot;role&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;role&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;yveS38u8wyTu&quot; sName=&quot;url&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;url&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;uP5HOFanDr5P&quot; sName=&quot;name_short&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_short&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;xIKpl13nKNFI&quot; sName=&quot;dashboard&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;dashboard&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;koQxoLjY5OsM&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;ps8uZFHHRjxw&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;a7OmopYuJzxA&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;x8d0IdPqKydc&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;XGSLJI71d0UK&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       &#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;       &#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       s.dashboard,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder,&#10;       name_report,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short,&#10;       dashboard&#10;FROM cte&#10;WHERE&#10;       rn &amp;lt;&amp;gt; 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate]&#10;              ELSE ddate &amp;lt;= [**ddate3]&#10;              END&#10;AND name_folder in ([**rr])  &#10;AND   &#10;CASE WHEN [**proba] &amp;lt;&amp;gt; 'Все' THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END&#10;AND CASE WHEN [**proba] = 'Все' THEN name_folder in (name_folder) ELSE name_folder in ([**proba]) END&#10;AND name_folder = name_report&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot; sDataSetID=&quot;JEXCiqm9cb6u&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column sNameDataSetID=&quot;JEXCiqm9cb6u&quot; sName=&quot;Бизнес-блок&quot; nWidth=&quot;150&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;koQxoLjY5OsM&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Финансовые отчеты&quot; nWidth=&quot;150&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;ps8uZFHHRjxw&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Переход на дэшборд&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;100&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.yveS38u8wyTu is not null&amp;#xA;&quot;&gt;&lt;icon sCode=&quot;4BE331FD&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openInternalLink&quot;&gt;&lt;arg sName=&quot;url&quot; sFieldID=&quot;yveS38u8wyTu&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Скачать PDF&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;90&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.xIKpl13nKNFI!=1&quot;&gt;&lt;icon sCode=&quot;75F4F39F&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openReport&quot;&gt;&lt;arg sName=&quot;reportId&quot; sFieldID=&quot;p7x6UEZtGdKm&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Владелец отчета&quot; nWidth=&quot;140&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;uP5HOFanDr5P&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Контакты&quot; nWidth=&quot;120&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;JnSOVVihDiUT&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Дата отчета&quot; nWidth=&quot;110&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.xIKpl13nKNFI!=1&quot;&gt;&lt;text sFieldID=&quot;XGSLJI71d0UK&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;&quot; sNameDataSetID=&quot;JEXCiqm9cb6u&quot; nWidth=&quot;45&quot; sFontAlign=&quot;right&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежедневно'&quot;&gt;&lt;image sID=&quot;1021468&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежедневно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Еженедельно'&quot;&gt;&lt;image sID=&quot;1021469&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Еженедельно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежемесячно'&quot;&gt;&lt;image sID=&quot;1021470&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежемесячно&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежеквартаьно'&quot;&gt;&lt;image sID=&quot;1021471&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Ежеквартально&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Периодичность&quot; nWidth=&quot;120&quot; sFontAlign=&quot;left&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sFieldID=&quot;SeHNGHuGLXR4&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Главная&quot; nWidth=&quot;80&quot; sFontAlign=&quot;middle&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.SeHNGHuGLXR4='Архив'&quot;&gt;&lt;icon sCode=&quot;14D20360&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Главная&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000024913" nscreenid="2741000004402" nwidgettypeid="22" sname_ru="Панель фильтров" sname_en="Панель фильтров" nxcoord="0" nycoord="0" nwidth="20" nheight="6" norder="1" ishidden="0" nviewtype="2" xparams="&lt;data&gt;&lt;/data&gt;" isisolated="false" ishidewidgethead="false" nbackgroundtype="3" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="false" isaienabled="true"/><r nid="2741000024914" nscreenid="2741000004402" nwidgettypeid="102" sname_ru="Ошибки при загрузке отчетов" sname_en="Ошибки при загрузке отчетов" nxcoord="11" nycoord="0" nwidth="39" nheight="38" norder="6" ishidden="1" nviewtype="4" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;JEXCiqm9cb6u&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;sCQrkkH9OhdE&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE level_3&amp;#xA;WHEN 'Ежедневно' THEN 1&amp;#xA;WHEN 'Еженедельно' THEN 2&amp;#xA;WHEN 'Ежемесячно' THEN 3&amp;#xA;WHEN 'Ежеквартально' THEN 4&amp;#xA;ELSE 5&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SeHNGHuGLXR4&quot; sName=&quot;tab&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;[**tab1]&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;ps8uZFHHRjxw&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;ksVYbjEkDhyH&quot; sName=&quot;name_report&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_report&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vgyD98wxeIYs&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;XGSLJI71d0UK&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;a7OmopYuJzxA&quot; sName=&quot;level_3&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_3&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;cBVdRllQtizT&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;fB5JPpBYY4Sm&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;p7x6UEZtGdKm&quot; sName=&quot;name_doc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_doc&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;koQxoLjY5OsM&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;x8d0IdPqKydc&quot; sName=&quot;name&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;JnSOVVihDiUT&quot; sName=&quot;number&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;number&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SFPs0kOXXLLl&quot; sName=&quot;role&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;role&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;yveS38u8wyTu&quot; sName=&quot;url&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;url&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;uP5HOFanDr5P&quot; sName=&quot;name_short&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_short&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;MdinGLzttLGj&quot; sName=&quot;dashboard&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;dashboard&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;MyhyPAKKimqa&quot; sName=&quot;reason&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;reason&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;koQxoLjY5OsM&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;ps8uZFHHRjxw&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;a7OmopYuJzxA&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;x8d0IdPqKydc&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;XGSLJI71d0UK&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;&#10;        CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;       /*END AS name_report,*/&#10;&#10;       /*split_part(split_part(r.sname, '_', 3), '.', 1) AS name_report*/&#10;&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       s.dashboard AS dashboard,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;)&#10; &#10;SELECT&#10;       name_folder,&#10;       name_report,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short,&#10;       dashboard,&#10;       CASE &#10;       WHEN name_folder &amp;lt;&amp;gt; name_report AND ddate = '2030-01-01' THEN 'Название файла и дата'&#10;       WHEN name_folder &amp;lt;&amp;gt; name_report AND ddate &amp;lt;&amp;gt; '2030-01-01' THEN 'Название файла'&#10;       ELSE 'Дата'&#10;       END AS reason&#10;FROM cte&#10;WHERE&#10;name_folder &amp;lt;&amp;gt; name_report OR ddate = '2030-01-01'&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot; sDataSetID=&quot;JEXCiqm9cb6u&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column sNameDataSetID=&quot;JEXCiqm9cb6u&quot; sName=&quot;Бизнес-блок&quot; nWidth=&quot;150&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;koQxoLjY5OsM&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Название отчета&quot; nWidth=&quot;150&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;ps8uZFHHRjxw&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Название файла&quot; nWidth=&quot;150&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;ksVYbjEkDhyH&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Владелец отчета&quot; nWidth=&quot;140&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;uP5HOFanDr5P&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Дата отчета&quot; nWidth=&quot;110&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.XGSLJI71d0UK!='2030-01-01'&quot;&gt;&lt;text sFieldID=&quot;XGSLJI71d0UK&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Периодичность&quot; nWidth=&quot;120&quot; sFontAlign=&quot;left&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Причина ошибки&quot; nWidth=&quot;150&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;MyhyPAKKimqa&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="false" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000025786" nscreenid="2741000004402" nwidgettypeid="102" sname_ru="Таблица - Главная" sname_en="Таблица - Главная" nxcoord="15" nycoord="0" nwidth="35" nheight="38" norder="4" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;JEXCiqm9cb6u&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;sCQrkkH9OhdE&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE level_3&amp;#xA;WHEN 'Ежедневно' THEN 1&amp;#xA;WHEN 'Еженедельно' THEN 2&amp;#xA;WHEN 'Ежемесячно' THEN 3&amp;#xA;WHEN 'Ежеквартально' THEN 4&amp;#xA;ELSE 5&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SeHNGHuGLXR4&quot; sName=&quot;tab&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;[**tab1]&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;ps8uZFHHRjxw&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;ksVYbjEkDhyH&quot; sName=&quot;name_report&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_report&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vgyD98wxeIYs&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;XGSLJI71d0UK&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;a7OmopYuJzxA&quot; sName=&quot;level_3&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_3&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;cBVdRllQtizT&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;fB5JPpBYY4Sm&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;p7x6UEZtGdKm&quot; sName=&quot;name_doc&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_doc&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;koQxoLjY5OsM&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;x8d0IdPqKydc&quot; sName=&quot;name&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;JnSOVVihDiUT&quot; sName=&quot;number&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;number&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;SFPs0kOXXLLl&quot; sName=&quot;role&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;role&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;yveS38u8wyTu&quot; sName=&quot;url&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;url&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;uP5HOFanDr5P&quot; sName=&quot;name_short&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_short&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;MdinGLzttLGj&quot; sName=&quot;dashboard&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;dashboard&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;afjHXoAuFBkM&quot; sName=&quot;count_files&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;count_files&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;HTzyVuooTNCK&quot; sName=&quot;count_report&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;count_report&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;tHQFYma73fiy&quot; sName=&quot;count_report_level_3&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;count_report_level_3&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Ulfkh1wNWqbM&quot; sName=&quot;count_report_level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;count_report_level_2&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;fyvVjPCRMVCP&quot; sName=&quot;count_report_level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;count_report_level_1&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;koQxoLjY5OsM&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;ps8uZFHHRjxw&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;a7OmopYuJzxA&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;x8d0IdPqKydc&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;r sFieldID=&quot;XGSLJI71d0UK&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;&#9;WITH cte AS (&#10;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.sname AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.nparentid AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   r.nid AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;FROM rb.report r&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   JOIN rb.group g ON r.ngroupid = g.nid&#10;&#9;&#9;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.sname AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   1 as count&#10;&#9;&#9;&#9;&#9;&#9;&#9;   FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;&#9;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;  c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   g.nparentid AS parent_2&#10;&#9;&#9;&#9;&#9;&#9;&#9;   ,sum(c.count) OVER (PARTITION BY g.nparentid, c.level_3, c.name_folder, c.name_report) as count_files&#10;&#9;&#9;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;&#9;&#9;&#9;&#9;&#9;--GROUP BY c.name_folder, c.parent, c.nid, c.name_doc, c.name_report, c.version, c.ddate, c.level_3, g.nparentid&#10;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;   c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;&#9;&#9;   g.sname  AS level_2&#10;&#9;&#9;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;&#9;&#9;   --,case when c.count_files &amp;gt;= 1 then count(c.name_folder) OVER (PARTITION BY g.sname, /*c.parent_2,*/ c.level_3) end count_report&#10;&#9;&#9;&#9;&#9;&#9;   ,case when c.count_files &amp;gt;= 1 then 1 end count_report&#10;&#9;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;&#9;&#9;&#9;&#9;WHERE&#10;&#9;&#9;&#9;&#9;&#9;   level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;&#9;&#9;&#9;&#9;&#9;   AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;&#9;&#9;&#9;&#9;&#9;   AND version = [**ver]&#10;&#9;&#9;&#9;)&#10;&#9;&#9; &#10;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;&#9;   c.level_2  AS level_2,&#10;&#9;&#9;&#9;&#9;   g.nparentid AS parent_3&#10;&#9;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;&#9;   ,c.count_report as count_report&#10;&#9;&#9;&#9;&#9;   --,sum(c.count_report) OVER (PARTITION BY g.nparentid, c.level_2, c.level_3, c.name_folder) as count_report_level_2&#10;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;&#9;&#9;)&#10;&#9; &#10;&#9;&#9;SELECT&#10;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;   c.level_2  AS level_2,&#10;&#9;&#9;&#9;   c.parent_3 AS parent_3,&#10;&#9;&#9;&#9;   g.sname AS level_1&#10;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;   ,c.count_report as count_report&#10;&#9;&#9;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid&#10;&#9;)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       s.dashboard AS dashboard&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;       ,ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder,&#10;       name_report,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short,&#10;       dashboard&#10;&#9;   ,count_files&#10;&#9;   ,count_report&#10;&#9;   ,sum(count_report) over (partition by level_1, level_2, level_3) as count_report_level_3&#10;&#9;   ,sum(count_report) over (partition by level_1, level_2) as count_report_level_2&#10;&#9;   ,sum(count_report) over (partition by level_1) as count_report_level_1&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END&#10;AND name_folder in ([**rr])&#10;AND   &#10;CASE WHEN [**proba] &amp;lt;&amp;gt; 'Все' THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END&#10;AND CASE WHEN [**proba] = 'Все' THEN name_folder in (name_folder) ELSE name_folder in ([**proba]) END&#10;AND name_folder = name_report&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;1&quot; sDataSetID=&quot;JEXCiqm9cb6u&quot;&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;experimental&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column sNameDataSetID=&quot;JEXCiqm9cb6u&quot; sName=&quot;Бизнес-блок&quot; nWidth=&quot;150&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;koQxoLjY5OsM&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Финансовые отчеты&quot; nWidth=&quot;150&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;ps8uZFHHRjxw&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Переход на дэшборд&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;100&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.yveS38u8wyTu is not null&quot;&gt;&lt;icon sCode=&quot;4BE331FD&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openInternalLink&quot;&gt;&lt;arg sName=&quot;url&quot; sFieldID=&quot;yveS38u8wyTu&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Скачать PDF&quot; sFontAlign=&quot;middle&quot; nWidth=&quot;90&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.MdinGLzttLGj!=1&quot;&gt;&lt;icon sCode=&quot;75F4F39F&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.openReport&quot;&gt;&lt;arg sName=&quot;reportId&quot; sFieldID=&quot;p7x6UEZtGdKm&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Владелец отчета&quot; nWidth=&quot;140&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;uP5HOFanDr5P&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Контакты&quot; nWidth=&quot;120&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;JnSOVVihDiUT&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Дата отчета&quot; nWidth=&quot;110&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.MdinGLzttLGj!=1&quot;&gt;&lt;text sFieldID=&quot;XGSLJI71d0UK&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#b2b2b2&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;&quot; sNameDataSetID=&quot;JEXCiqm9cb6u&quot; nWidth=&quot;45&quot; sFontAlign=&quot;right&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежедневно'&quot;&gt;&lt;image sID=&quot;1021468&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Еженедельно'&quot;&gt;&lt;image sID=&quot;1021469&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежемесячно'&quot;&gt;&lt;image sID=&quot;1021470&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.a7OmopYuJzxA='Ежеквартаьно'&quot;&gt;&lt;image sID=&quot;1021471&quot; sRepositoryType=&quot;image&quot; nWidth=&quot;23&quot; nHeight=&quot;23&quot;&gt;&lt;/image&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Периодичность&quot; nWidth=&quot;120&quot; sFontAlign=&quot;left&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;styleRule sFontSize=&quot;default&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;Архив&quot; nWidth=&quot;80&quot; sFontAlign=&quot;middle&quot;&gt;&lt;object sCondition=&quot;=JEXCiqm9cb6u.SeHNGHuGLXR4='Главная'&quot;&gt;&lt;icon sCode=&quot;C87A02F3&quot;&gt;&lt;/icon&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;ps8uZFHHRjxw&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;koQxoLjY5OsM&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;a7OmopYuJzxA&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;fB5JPpBYY4Sm&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;bb&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;cBVdRllQtizT&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sValue=&quot;Архив&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sName=&quot;count_files&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;afjHXoAuFBkM&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sNameDataSetID=&quot;JEXCiqm9cb6u&quot; sName=&quot;count_report_level_3&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;tHQFYma73fiy&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sNameDataSetID=&quot;JEXCiqm9cb6u&quot; sName=&quot;count_report_level_2&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;Ulfkh1wNWqbM&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;item&gt;&lt;column sNameDataSetID=&quot;JEXCiqm9cb6u&quot; sName=&quot;count_report_level_1&quot;&gt;&lt;object&gt;&lt;text sFieldID=&quot;fyvVjPCRMVCP&quot;&gt;&lt;/text&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="true" isaienabled="true"/><r nid="2741000029417" nscreenid="2741000004402" nwidgettypeid="102" sname_ru="Структура" sname_en="Структура" nxcoord="0" nycoord="0" nwidth="15" nheight="38" norder="3" ishidden="0" nviewtype="1" xparams="&lt;widget&gt;&lt;datasets&gt;&lt;dataset sID=&quot;YR07pJ6lCXlH&quot; sName=&quot;Основная таблица&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;EEq018cw49G6&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Iisyrr93sHFN&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;qLU5Dc7nZ81x&quot; sName=&quot;coupling&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;    WHEN level_2 IS NOT NULL&amp;#xA;        THEN level_2&amp;#xA;    WHEN level_2 IS NULL AND level_1 IS NOT NULL &amp;#xA;        THEN level_1 &amp;#xA;END&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;WTG51issiCoq&quot; sName=&quot;coupling_display&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;    WHEN level_2 IS NOT NULL&amp;#xA;        THEN &amp;#xA;            CASE&amp;#xA;                WHEN report_count IS NOT NULL THEN CONCAT(level_2, ' (', report_count, ')')&amp;#xA;                ELSE level_2&amp;#xA;            END&amp;#xA;    WHEN level_2 IS NULL AND level_1 IS NOT NULL&amp;#xA;        THEN&amp;#xA;            CASE&amp;#xA;                WHEN report_count IS NOT NULL THEN CONCAT(level_1, ' (', report_count, ')')&amp;#xA;                ELSE level_1&amp;#xA;            END&amp;#xA;END&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;UeYf1xbYHwfQ&quot; sName=&quot;sort&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sort&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;MB8D0tcVX3cC&quot; sName=&quot;ord&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN level_2 = 'Нормативы ВПОДК (факторы вли-я)'&amp;#xA;THEN 0&amp;#xA;ELSE ROW_NUMBER() OVER (ORDER BY sort) &amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;PuVlsVXP5K0m&quot; sName=&quot;sortirovka&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN [**proba] = 'Все' &amp;#xA;THEN ((ROW_NUMBER() OVER (ORDER BY sort)) = [**hh]) :: INT&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;rVXGfMwQk3NL&quot; sName=&quot;report_count&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;report_count&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;UeYf1xbYHwfQ&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte_report_count AS (&#10;    WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;    WITH cte AS (&#10;        WITH cte AS (&#10;            WITH cte AS (&#10;                WITH cte AS (&#10;                    WITH cte AS (&#10;                        WITH cte AS (&#10;                            SELECT&#10;                                   g.sname AS name_folder,&#10;                                   g.nparentid AS parent,&#10;                                   g.nid AS nid,&#10;                                   r.nid AS name_doc,&#10;                                   &#10;                                   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;                                   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;                                   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;                                   &#10;                            FROM rb.report r&#10;                                   JOIN rb.group g ON r.ngroupid = g.nid&#10;                        )&#10;                     &#10;                        SELECT&#10;                            c.name_folder AS name_folder,&#10;                               c.parent AS parent,&#10;                               c.nid AS nid,&#10;                               c.name_doc AS name_doc,&#10;                               c.name_report AS name_report,&#10;                               c.version AS version,&#10;                               c.ddate AS ddate,&#10;                               g.sname AS level_3,&#10;                               1 as count&#10;                           FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;                    )&#10;                 &#10;                    SELECT&#10;                          c.name_folder AS name_folder,&#10;                           c.parent AS parent,&#10;                           c.nid AS nid,&#10;                           c.name_doc AS name_doc,&#10;                           c.name_report AS name_report,&#10;                           c.version AS version,&#10;                           c.ddate AS ddate,&#10;                           c.level_3 AS level_3,&#10;                           g.nparentid AS parent_2&#10;                           ,sum(c.count) OVER (PARTITION BY g.nparentid, c.level_3, c.name_folder, c.name_report) as count_files&#10;                    FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;                    --GROUP BY c.name_folder, c.parent, c.nid, c.name_doc, c.name_report, c.version, c.ddate, c.level_3, g.nparentid&#10;                )&#10;             &#10;                SELECT&#10;                   c.name_folder AS name_folder,&#10;                       c.parent AS parent,&#10;                       c.nid AS nid,&#10;                       c.name_doc AS name_doc,&#10;                       c.name_report AS name_report,&#10;                       c.version AS version,&#10;                       c.ddate AS ddate,&#10;                       c.level_3 AS level_3,&#10;                       c.parent_2 AS parent_2,&#10;                       g.sname  AS level_2&#10;                       ,c.count_files as count_files&#10;                       --,case when c.count_files &amp;gt;= 1 then count(c.name_folder) OVER (PARTITION BY g.sname, /*c.parent_2,*/ c.level_3) end count_report&#10;                       ,case when c.count_files &amp;gt;= 1 then 1 end count_report&#10;                FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;                WHERE&#10;                       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;                       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;                       AND version = [**ver]&#10;            )&#10;         &#10;            SELECT&#10;            c.name_folder AS name_folder,&#10;                   c.parent AS parent,&#10;                   c.nid AS nid,&#10;                   c.name_doc AS name_doc,&#10;                   c.name_report AS name_report,&#10;                   c.version AS version,&#10;                   c.ddate AS ddate,&#10;                   c.level_3 AS level_3,&#10;                   c.parent_2 AS parent_2,&#10;                   c.level_2  AS level_2,&#10;                   g.nparentid AS parent_3&#10;                   ,c.count_files as count_files&#10;                   ,c.count_report as count_report&#10;                   --,sum(c.count_report) OVER (PARTITION BY g.nparentid, c.level_2, c.level_3, c.name_folder) as count_report_level_2&#10;            FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;        )&#10;     &#10;        SELECT&#10;        c.name_folder AS name_folder,&#10;               c.parent AS parent,&#10;               c.nid AS nid,&#10;               c.name_doc AS name_doc,&#10;               c.name_report AS name_report,&#10;               c.version AS version,&#10;               c.ddate AS ddate,&#10;               c.level_3 AS level_3,&#10;               c.parent_2 AS parent_2,&#10;               c.level_2  AS level_2,&#10;               c.parent_3 AS parent_3,&#10;               g.sname AS level_1&#10;               ,c.count_files as count_files&#10;               ,c.count_report as count_report&#10;               --,c.count_report_level_2 as count_report_level_2&#10;        FROM cte c JOIN rb.group g ON c.parent_3 = g.nid&#10;    )&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;       ,c.count_files as count_files&#10;       ,c.count_report as count_report&#10;       --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;       ,c.count_files as count_files&#10;       ,c.count_report as count_report&#10;       --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       s.dashboard AS dashboard&#10;       ,c.count_files as count_files&#10;       ,c.count_report as count_report&#10;       --,c.count_report_level_2 as count_report_level_2&#10;       ,ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       count(name_folder) as report_count,&#10;       level_2,&#10;       level_1&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       /*AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END&#10;AND name_folder in ([**rr])&#10;AND &#10;CASE WHEN [**proba] &amp;lt;&amp;gt; 'Все' THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END*/&#10;AND CASE WHEN [**proba] = 'Все' THEN name_folder in (name_folder) ELSE name_folder in ([**proba]) END&#10;AND name_folder = name_report&#10;group by rollup(level_1, level_2)&#10;having level_1 is not null&#10;),&#10;&#10;cte_main as (&#10;    SELECT&#10;        level_1,&#10;        level_2,&#10;        MIN(sort) AS sort&#10;    FROM&#10;        src.psb_fin_blok_struktura_2741000004604&#10;    GROUP BY&#10;        ROLLUP(level_1, level_2)&#10;    HAVING&#10;        NOT (level_1 IS NULL AND level_2 IS NULL)&#10;&#10;)&#10;&#10;SELECT&#10;    cte_main.level_1,&#10;    cte_main.level_2,&#10;    cte_main.sort,&#10;    cte_report_count.level_1 as level_1_count,&#10;    cte_report_count.level_2 as level_2_count,&#10;    cte_report_count.report_count&#10;FROM&#10;    cte_main&#10;LEFT JOIN cte_report_count ON concat(cte_main.level_1,cte_main.level_2) = concat(cte_report_count.level_1,cte_report_count.level_2)&#10;&#10;&#10;&#10;&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;dataset sID=&quot;C2DlTFLY8kms&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;navsql&gt;&lt;query&gt;WITH cte_report_count AS (&#10;    WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;    WITH cte AS (&#10;        WITH cte AS (&#10;            WITH cte AS (&#10;                WITH cte AS (&#10;                    WITH cte AS (&#10;                        WITH cte AS (&#10;                            SELECT&#10;                                   g.sname AS name_folder,&#10;                                   g.nparentid AS parent,&#10;                                   g.nid AS nid,&#10;                                   r.nid AS name_doc,&#10;                                   &#10;                                   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;                                   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;                                   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;                                   &#10;                            FROM rb.report r&#10;                                   JOIN rb.group g ON r.ngroupid = g.nid&#10;                        )&#10;                     &#10;                        SELECT&#10;                            c.name_folder AS name_folder,&#10;                               c.parent AS parent,&#10;                               c.nid AS nid,&#10;                               c.name_doc AS name_doc,&#10;                               c.name_report AS name_report,&#10;                               c.version AS version,&#10;                               c.ddate AS ddate,&#10;                               g.sname AS level_3,&#10;                               1 as count&#10;                           FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;                    )&#10;                 &#10;                    SELECT&#10;                          c.name_folder AS name_folder,&#10;                           c.parent AS parent,&#10;                           c.nid AS nid,&#10;                           c.name_doc AS name_doc,&#10;                           c.name_report AS name_report,&#10;                           c.version AS version,&#10;                           c.ddate AS ddate,&#10;                           c.level_3 AS level_3,&#10;                           g.nparentid AS parent_2&#10;                           ,sum(c.count) OVER (PARTITION BY g.nparentid, c.level_3, c.name_folder, c.name_report) as count_files&#10;                    FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;                    --GROUP BY c.name_folder, c.parent, c.nid, c.name_doc, c.name_report, c.version, c.ddate, c.level_3, g.nparentid&#10;                )&#10;             &#10;                SELECT&#10;                   c.name_folder AS name_folder,&#10;                       c.parent AS parent,&#10;                       c.nid AS nid,&#10;                       c.name_doc AS name_doc,&#10;                       c.name_report AS name_report,&#10;                       c.version AS version,&#10;                       c.ddate AS ddate,&#10;                       c.level_3 AS level_3,&#10;                       c.parent_2 AS parent_2,&#10;                       g.sname  AS level_2&#10;                       ,c.count_files as count_files&#10;                       --,case when c.count_files &amp;gt;= 1 then count(c.name_folder) OVER (PARTITION BY g.sname, /*c.parent_2,*/ c.level_3) end count_report&#10;                       ,case when c.count_files &amp;gt;= 1 then 1 end count_report&#10;                FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;                WHERE&#10;                       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;                       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;                       AND version = [**ver]&#10;            )&#10;         &#10;            SELECT&#10;            c.name_folder AS name_folder,&#10;                   c.parent AS parent,&#10;                   c.nid AS nid,&#10;                   c.name_doc AS name_doc,&#10;                   c.name_report AS name_report,&#10;                   c.version AS version,&#10;                   c.ddate AS ddate,&#10;                   c.level_3 AS level_3,&#10;                   c.parent_2 AS parent_2,&#10;                   c.level_2  AS level_2,&#10;                   g.nparentid AS parent_3&#10;                   ,c.count_files as count_files&#10;                   ,c.count_report as count_report&#10;                   --,sum(c.count_report) OVER (PARTITION BY g.nparentid, c.level_2, c.level_3, c.name_folder) as count_report_level_2&#10;            FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;        )&#10;     &#10;        SELECT&#10;        c.name_folder AS name_folder,&#10;               c.parent AS parent,&#10;               c.nid AS nid,&#10;               c.name_doc AS name_doc,&#10;               c.name_report AS name_report,&#10;               c.version AS version,&#10;               c.ddate AS ddate,&#10;               c.level_3 AS level_3,&#10;               c.parent_2 AS parent_2,&#10;               c.level_2  AS level_2,&#10;               c.parent_3 AS parent_3,&#10;               g.sname AS level_1&#10;               ,c.count_files as count_files&#10;               ,c.count_report as count_report&#10;               --,c.count_report_level_2 as count_report_level_2&#10;        FROM cte c JOIN rb.group g ON c.parent_3 = g.nid&#10;    )&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;       ,c.count_files as count_files&#10;       ,c.count_report as count_report&#10;       --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;       ,c.count_files as count_files&#10;       ,c.count_report as count_report&#10;       --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       s.dashboard AS dashboard&#10;       ,c.count_files as count_files&#10;       ,c.count_report as count_report&#10;       --,c.count_report_level_2 as count_report_level_2&#10;       ,ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       count(name_folder) as report_count,&#10;       level_2,&#10;       level_1&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       /*AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END&#10;AND name_folder in ([**rr])&#10;AND &#10;CASE WHEN [**proba] &amp;lt;&amp;gt; 'Все' THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END*/&#10;AND CASE WHEN [**proba] = 'Все' THEN name_folder in (name_folder) ELSE name_folder in ([**proba]) END&#10;AND name_folder = name_report&#10;group by rollup(level_1, level_2)&#10;having level_1 is not null&#10;),&#10;&#10;cte_main as (&#10;    SELECT&#10;        level_1,&#10;        level_2,&#10;        MIN(sort) AS sort&#10;    FROM&#10;        src.psb_fin_blok_struktura_2741000004604&#10;    GROUP BY&#10;        ROLLUP(level_1, level_2)&#10;    HAVING&#10;        NOT (level_1 IS NULL AND level_2 IS NULL)&#10;)&#10;&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;widgetElements&gt;&lt;/widgetElements&gt;&lt;table isAlternateRowColors=&quot;0&quot; sDataSetID=&quot;YR07pJ6lCXlH&quot; isHeaderHidden=&quot;1&quot; isSortDisabled=&quot;0&quot;&gt;&lt;hierarchy sType=&quot;byColumns&quot; sExpandLevels=&quot;none&quot;&gt;&lt;column sFieldID=&quot;EEq018cw49G6&quot;&gt;&lt;/column&gt;&lt;column sFieldID=&quot;Iisyrr93sHFN&quot;&gt;&lt;/column&gt;&lt;/hierarchy&gt;&lt;experimental isDisableVirtualization=&quot;0&quot;&gt;&lt;/experimental&gt;&lt;columns&gt;&lt;item&gt;&lt;column nWidth=&quot;50&quot; isHighlightColumn=&quot;0&quot; isScrollToColumn=&quot;0&quot; isHidePaddings=&quot;0&quot;&gt;&lt;object sCondition=&quot;&quot;&gt;&lt;text sFieldID=&quot;WTG51issiCoq&quot;&gt;&lt;styleRule sFontSize=&quot;custom&quot; sTextColor=&quot;#ffffff&quot; nFontScale=&quot;95&quot;&gt;&lt;/styleRule&gt;&lt;/text&gt;&lt;onCellClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_1&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;EEq018cw49G6&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;level_2&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;Iisyrr93sHFN&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;help&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;qLU5Dc7nZ81x&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;hh&quot;&gt;&lt;/arg&gt;&lt;arg sName=&quot;value&quot; sFieldID=&quot;MB8D0tcVX3cC&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onCellClick&gt;&lt;/object&gt;&lt;/column&gt;&lt;/item&gt;&lt;/columns&gt;&lt;styleRule sFontSize=&quot;default&quot; sCondition=&quot;=YR07pJ6lCXlH.PuVlsVXP5K0m&quot; isHighlightRow=&quot;1&quot; isArrowVisible=&quot;0&quot; sBgColor=&quot;#ea5614&quot; sTextColor=&quot;#ffffff&quot;&gt;&lt;/styleRule&gt;&lt;/table&gt;&lt;/visuals&gt;&lt;/widget&gt;" isisolated="false" ishidewidgethead="true" nbackgroundtype="3" isstorehiddenstate="false" islandscapeavailable="false" isfullscreenable="false" isaienabled="true"/></t19><t20 sCheck="924"><r nid="2741000009585" slabel="name_folder" nscreenwidgetid="2741000023929" isonline="true" isscreenonly="false" naligntype="4" nord="6" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;je9KYMvtnFs4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Tdfg38be1qxz&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       &#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;AND c.name_folder IN ([**cc]))&#10; &#10;SELECT&#10;       name_folder&#10;FROM cte&#10;WHERE&#10;   name_folder&#10;    IN ([**cc])&#10;    AND level_2 IN (CASE WHEN [**aa] is null THEN [**bb] ELSE level_2 END)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;je9KYMvtnFs4&quot; sValueFieldID=&quot;Tdfg38be1qxz&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList sNameFieldID=&quot;Tdfg38be1qxz&quot; isSearchVisible=&quot;0&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="rr" isaienabled="false"/><r nid="2741000009586" slabel="Дата" nscreenid="2741000004268" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="10" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;PU9XfAq1bsS4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;ogLSTmdvy1qT&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;ogLSTmdvy1qT&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;/*AND c.name_folder IN ([**name_report])*/)&#10; &#10;SELECT&#10;       ddate&#10;FROM cte&#10;WHERE&#10;       rn &amp;lt;&amp;gt; 1&#10;AND level_2 IN (CASE WHEN [**aa] is null THEN [**bb] ELSE level_2 END)&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;PU9XfAq1bsS4&quot; sValueFieldID=&quot;ogLSTmdvy1qT&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate" isaienabled="false"/><r nid="2741000009587" slabel="Уровень_1" nscreenwidgetid="2741000023929" isonline="true" isscreenonly="false" naligntype="1" nord="5" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;qJqobPmtfpCS&quot; sName=&quot;ПСБ_Фин_блок_Структура&quot; sSource=&quot;psb_fin_blok_struktura_2741000004604&quot; sType=&quot;user&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;T76vCo5fdTKo&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;YTkI4UfQSwzT&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE &amp;#xA;WHEN level_1 = 'Ликвидность'&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;YTkI4UfQSwzT&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;qJqobPmtfpCS&quot; sValueFieldID=&quot;T76vCo5fdTKo&quot; isMultiselect=&quot;0&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="level_1" isaienabled="false"/><r nid="2741000009588" slabel="Уровень_3" nscreenwidgetid="2741000023929" isonline="true" isscreenonly="false" naligntype="1" nord="2" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;/datasets&gt;&lt;visuals sValueFieldID=&quot;i99090EyR167&quot; isMultiselect=&quot;0&quot; isFullSelectorVisible=&quot;0&quot;&gt;&lt;dropDownList sNameFieldID=&quot;i99090EyR167&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="help" isaienabled="false"/><r nid="2741000009589" slabel="Уровень_4" nscreenwidgetid="2741000023929" isonline="true" isscreenonly="false" naligntype="1" nord="3" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;I18NyXLfztWS&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Z7CklgHqvD7J&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4))&#10; &#10;SELECT&#10;    &#10;       level_2&#10;FROM cte&#10;WHERE    level_2 IN ([**level_2])&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;I18NyXLfztWS&quot; sValueFieldID=&quot;Z7CklgHqvD7J&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;0&quot; sFullSelectorTitle=&quot;Все&quot;&gt;&lt;dropDownList sNameFieldID=&quot;Z7CklgHqvD7J&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="bb" isaienabled="false"/><r nid="2741000009590" slabel="Отчет" nscreenid="2741000004268" isonline="true" isscreenonly="false" fwidth="100" naligntype="1" nord="12" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;textSearch&gt;&lt;onSelect&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;/exec&gt;&lt;/onSelect&gt;&lt;/textSearch&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="aa" isaienabled="false"/><r nid="2741000009591" slabel="Дата" nscreenid="2741000004268" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="8" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;KvPvadGzyWGU&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;navsql&gt;&lt;query&gt;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;KvPvadGzyWGU&quot; sValueFieldID=&quot;aYWN5pS3BQFK&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate2" isaienabled="false"/><r nid="2741000009592" slabel="Включение даты" nscreenid="2741000004268" isonline="true" isscreenonly="false" naligntype="1" nord="6" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;MVLId8aTEunv&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;IWN0ZTrIDKTF&quot; sName=&quot;type&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;type&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;EDEkpGnNemmU&quot; sName=&quot;umolchanie&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;umolchanie&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;IWN0ZTrIDKTF&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT 'ON' AS type, 1 AS umolchanie&#10;UNION ALL SELECT 'OFF' AS type, 0 AS umolchanie&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sValueFieldID=&quot;IWN0ZTrIDKTF&quot; sDatasetID=&quot;MVLId8aTEunv&quot; sSelectedFieldID=&quot;EDEkpGnNemmU&quot;&gt;&lt;switcher sText=&quot;Включить&quot; sTextFieldID=&quot;RD8P4qaU0hok&quot;&gt;&lt;onClick&gt;&lt;/onClick&gt;&lt;/switcher&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="vkl" isaienabled="false"/><r nid="2741000009593" slabel="Версия" nscreenid="2741000004268" isonline="true" isscreenonly="false" naligntype="1" nord="4" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;aPbVJoDttyV6&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;aZJHGxUcgdZJ&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;aZJHGxUcgdZJ&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT &#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;    FROM rb.report r &#10;    JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10;&#10;   SELECT &#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10;&#10;SELECT &#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10;&#10;SELECT &#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;    WHERE&#10;level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;AND g.sname IN ([**bb])&#10;&#10;)&#10;&#10;SELECT &#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       s.name AS name, &#10;       s.number AS number&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON c.level_2 = s.level_2&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;aPbVJoDttyV6&quot; sValueFieldID=&quot;aZJHGxUcgdZJ&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ver" isaienabled="false"/><r nid="2741000009594" slabel="Табы" nscreenid="2741000004268" isonline="true" isscreenonly="false" fwidth="150" naligntype="1" nord="2" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="true" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;C1R4gUx7E0Qb&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Ii5wNtBxoKf1&quot; sName=&quot;type&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;type&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;SELECT 'Главная' AS type&#10;UNION ALL&#10;SELECT 'Архив' AS type&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;C1R4gUx7E0Qb&quot; sValueFieldID=&quot;Ii5wNtBxoKf1&quot;&gt;&lt;tabs&gt;&lt;/tabs&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="tab1" isaienabled="false"/><r nid="2741000009595" slabel="Подсветка строк" nscreenid="2741000004268" isonline="true" isscreenonly="false" naligntype="1" nord="3" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;gXViO7uSXjok&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;zYmrEMDL3NyV&quot; sName=&quot;sortirovka&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;ROW_NUMBER() OVER (ORDER BY sort)&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;VZjDlZAsl0oc&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;jKxIJuWEMi2K&quot; sName=&quot;umolchanie&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN level_2 = 'Нормативы ВПОДК (факторы вли-я)'&amp;#xA;THEN 0&amp;#xA;ELSE ROW_NUMBER() OVER (ORDER BY sort) &amp;#xA;END&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;jKxIJuWEMi2K&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT &#10;    level_1, &#10;    level_2,&#10;    MIN(sort) AS sort&#10;FROM &#10;    src.psb_fin_blok_struktura_2741000004604&#10;GROUP BY &#10;    ROLLUP(level_1, level_2)&#10;HAVING &#10;    NOT (level_1 IS NULL AND level_2 IS NULL)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;gXViO7uSXjok&quot; sValueFieldID=&quot;zYmrEMDL3NyV&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="hh" isaienabled="false"/><r nid="2741000009598" slabel="Дата" nscreenid="2741000004268" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="9" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;KvPvadGzyWGU&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Yrft3hm7NUYY&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;Yrft3hm7NUYY&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;    FROM rb.report r&#10;    JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;   SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       MAX(c.ddate) AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;AND version = [**ver]&#10; &#10;GROUP BY   c.name_folder, c.parent, c.nid, c.name_doc, c.name_report, c.version, c.level_3, c.parent_2, g.sname)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;       FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;   SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;   FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;   SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;       FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;   SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;        c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname AS business_block&#10;   FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;        c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.url AS url,&#10;       s.role AS role,&#10;       s.name_short AS name_short&#10;   FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block, s.level_1, s.level_2, s.level_3, s.level_4)&#10;   WHERE c.business_block IN ([**business_block])&#10;   AND c.level_2 IN (CASE WHEN [**aa] is null THEN [**bb] ELSE c.level_2 END)&#10;&#10;   /*AND c.name_folder IN ([**name_report])*/&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;KvPvadGzyWGU&quot; sValueFieldID=&quot;Yrft3hm7NUYY&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate3" isaienabled="false"/><r nid="2741000009602" slabel="name_folder" nscreenwidgetid="2741000023929" isonline="true" isscreenonly="false" naligntype="4" nord="7" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;je9KYMvtnFs4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;LO2bbGWPxCyq&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       &#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder&#10;&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END&#10;       AND name_folder LIKE '%'||CASE WHEN [**aa] is null THEN name_folder ELSE [**aa] END||'%' &#10;       AND level_2 IN (CASE WHEN [**aa] is null THEN [**level_2] ELSE level_2 END)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;dataset sID=&quot;dj8BDgBSGoJ4&quot; sName=&quot;2&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;CyJwcq6BuURz&quot; sName=&quot;level_4&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_4&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;XttaqkziIKpz&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;SELECT level_4, level_2&#10;FROM src.psb_fin_blok_struktura_2741000004604&#10;WHERE level_2 in ([**bb])&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;je9KYMvtnFs4&quot; sValueFieldID=&quot;LO2bbGWPxCyq&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList sNameFieldID=&quot;LO2bbGWPxCyq&quot; isSearchVisible=&quot;0&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="cc" isaienabled="false"/><r nid="2741000009603" slabel="Дата" nscreenid="2741000004268" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="7" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;e0IHukyFzJpH&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;yky9mRV4Dyy4&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;yky9mRV4Dyy4&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;/*AND c.name_folder IN ([**name_report])*/)&#10; &#10;SELECT&#10;       ddate&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       /*AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END*/&#10;AND level_2 IN (CASE WHEN [**aa] is null THEN [**bb] ELSE level_2 END)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;e0IHukyFzJpH&quot; sValueFieldID=&quot;yky9mRV4Dyy4&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate4" isaienabled="false"/><r nid="2741000009608" slabel="Блок" nscreenid="2741000004268" isonline="true" isscreenonly="false" fwidth="100" naligntype="1" nord="13" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;SgXU1NyzFE6c&quot; sName=&quot;ПСБ ФинБлок Структура&quot; sSource=&quot;psb_fin_blok_struktura_2741000004604&quot; sType=&quot;user&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;IWlR50poXOO6&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;IWlR50poXOO6&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;SgXU1NyzFE6c&quot; sValueFieldID=&quot;IWlR50poXOO6&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList sNameFieldID=&quot;IWlR50poXOO6&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="business_block" isaienabled="false"/><r nid="2741000009609" slabel="Периодичность" nscreenid="2741000004268" isonline="true" isscreenonly="false" fwidth="100" naligntype="1" nord="5" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;MbqP7j1q0T5j&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;ERuh4yjlr8A2&quot; sName=&quot;type&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;type&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;VkCRWbqLj7A6&quot; sName=&quot;umolchanie&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;umolchanie&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Kgn6QWRxfZvQ&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE type&amp;#xA;WHEN 'Ежедневно' THEN 1&amp;#xA;WHEN 'Еженедельно' THEN 2&amp;#xA;WHEN 'Ежемесячно' THEN 3&amp;#xA;WHEN 'Ежеквартально' THEN 4&amp;#xA;ELSE 5&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;Kgn6QWRxfZvQ&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT 'Ежедневно' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Еженедельно' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Ежеквартально' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Ежемесячно' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Все' AS type, 1 AS umolchanie&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;MbqP7j1q0T5j&quot; sValueFieldID=&quot;ERuh4yjlr8A2&quot; sSelectedFieldID=&quot;VkCRWbqLj7A6&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="tab" isaienabled="false"/><r nid="2741000009611" slabel="Сброс" nscreenid="2741000004268" isonline="true" isscreenonly="false" naligntype="1" nord="1" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;button sStyle=&quot;default&quot; sIcon=&quot;BCC6B584&quot; isLabelHidden=&quot;1&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;aa&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate1&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate3&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate4&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;rr&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/button&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="nm9z" isaienabled="false"/><r nid="2741000009914" slabel="Дата" nscreenid="2741000004268" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="11" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;PU9XfAq1bsS4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;pZDOsoaqvfyH&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;pZDOsoaqvfyH&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;/*AND c.name_folder IN ([**name_report])*/)&#10; &#10;SELECT&#10;       ddate&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;AND level_2 IN (CASE WHEN [**aa] is null THEN [**bb] ELSE level_2 END)&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;PU9XfAq1bsS4&quot; sValueFieldID=&quot;pZDOsoaqvfyH&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate1" isaienabled="false"/><r nid="2741000009965" slabel="Уровень_2" nscreenwidgetid="2741000023929" isonline="true" isscreenonly="false" naligntype="1" nord="4" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;AhyymHsncvF6&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;YsLErsejn7l7&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vplO0p6fVqae&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Caottw5oeDyl&quot; sName=&quot;case_&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;case_&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH CTE as (&#10;            SELECT level_1&#10;                , level_2&#10;            FROM src.psb_fin_blok_struktura_2741000004604&#10;            WHERE level_1 = [**level_1]&#10;            UNION ALL&#10;            SELECT 'Ликвидность'&#10;                , 'Ликвидность'&#10;)&#10;, CTE_1 as (&#10;        SELECT *&#10;            , CASE &#10;                    WHEN level_2 = 'Нормативы ВПОДК (факторы вли-я)'&#10;                    THEN 1&#10;                    ELSE 0&#10;            END as case_&#10;        FROM CTE&#10;)&#10;SELECT level_1&#10;                , level_2&#10;                , case when [**help] = 'Ликвидность' and level_1 = 'Ликвидность' then 1 else case_ end as case_&#10;FROM CTE_1&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;AhyymHsncvF6&quot; sValueFieldID=&quot;vplO0p6fVqae&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;0&quot; sSelectedFieldID=&quot;Caottw5oeDyl&quot;&gt;&lt;dropDownList isHiddenWhenNoChoice=&quot;1&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="level_2" isaienabled="false"/><r nid="2741000009974" slabel="Ehjdtym 5" nscreenwidgetid="2741000023929" isonline="true" isscreenonly="false" naligntype="4" nord="1" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;kgoA6oFu2nXr&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;/dataset&gt;&lt;dataset sID=&quot;I1yhi3Q1mJQe&quot; sName=&quot;ПСБ ФинБлок Структура&quot; sSource=&quot;psb_fin_blok_struktura_2741000004604&quot; sType=&quot;user&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;LtiTX62jTwO8&quot; sName=&quot;level_4&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_4&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;I1yhi3Q1mJQe&quot; sValueFieldID=&quot;LtiTX62jTwO8&quot; isMultiselect=&quot;1&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="kk"/><r nid="2741000009977" slabel="Уровень_3" nscreenwidgetid="2741000024332" isonline="true" isscreenonly="false" naligntype="1" nord="3" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;/datasets&gt;&lt;visuals sValueFieldID=&quot;i99090EyR167&quot; isMultiselect=&quot;0&quot; isFullSelectorVisible=&quot;0&quot;&gt;&lt;dropDownList sNameFieldID=&quot;i99090EyR167&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="help" isaienabled="false"/><r nid="2741000009978" slabel="Уровень_1" nscreenwidgetid="2741000024332" isonline="true" isscreenonly="false" naligntype="1" nord="6" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;qJqobPmtfpCS&quot; sName=&quot;ПСБ_Фин_блок_Структура&quot; sSource=&quot;psb_fin_blok_struktura_2741000004604&quot; sType=&quot;user&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;T76vCo5fdTKo&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;YTkI4UfQSwzT&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE &amp;#xA;WHEN level_1 = 'Ликвидность'&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;YTkI4UfQSwzT&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;qJqobPmtfpCS&quot; sValueFieldID=&quot;T76vCo5fdTKo&quot; isMultiselect=&quot;0&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="level_1" isaienabled="false"/><r nid="2741000009979" slabel="Уровень_4" nscreenwidgetid="2741000024332" isonline="true" isscreenonly="false" naligntype="1" nord="4" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;I18NyXLfztWS&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Z7CklgHqvD7J&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4))&#10; &#10;SELECT&#10;    &#10;       level_2&#10;FROM cte&#10;WHERE    &#10;CASE WHEN [**aa] is not null THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END&#10;AND name_folder LIKE '%'||CASE WHEN [**aa] is null THEN name_folder ELSE [**aa] END||'%' &lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;I18NyXLfztWS&quot; sValueFieldID=&quot;Z7CklgHqvD7J&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;0&quot; sFullSelectorTitle=&quot;Все&quot;&gt;&lt;dropDownList sNameFieldID=&quot;Z7CklgHqvD7J&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="bb" isaienabled="false"/><r nid="2741000009980" slabel="name_folder" nscreenwidgetid="2741000024332" isonline="true" isscreenonly="false" naligntype="4" nord="7" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;je9KYMvtnFs4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Tdfg38be1qxz&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       &#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;AND c.name_folder IN ([**cc]))&#10; &#10;SELECT&#10;       name_folder&#10;FROM cte&#10;WHERE&#10;   name_folder&#10;    IN ([**cc])&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;dataset sID=&quot;vENQFBchR0ja&quot; sName=&quot;2&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;kFgLGVGLqWtu&quot; sName=&quot;level_4&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_4&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;SELECT&#10;level_4&#10;FROM src.psb_fin_blok_struktura_2741000004604&#10;WHERE&#10;level_4 in ([**cc])&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;vENQFBchR0ja&quot; sValueFieldID=&quot;kFgLGVGLqWtu&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList sNameFieldID=&quot;kFgLGVGLqWtu&quot; isSearchVisible=&quot;0&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="rr" isaienabled="false"/><r nid="2741000009981" slabel="Уровень_2" nscreenwidgetid="2741000024332" isonline="true" isscreenonly="false" naligntype="1" nord="5" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;AhyymHsncvF6&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;YsLErsejn7l7&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vplO0p6fVqae&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Caottw5oeDyl&quot; sName=&quot;case_&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;case_&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH CTE as (&#10;            SELECT level_1&#10;                , level_2&#10;            FROM src.psb_fin_blok_struktura_2741000004604&#10;            WHERE level_1 = [**level_1]&#10;            UNION ALL&#10;            SELECT 'Ликвидность'&#10;                , 'Ликвидность'&#10;)&#10;, CTE_1 as (&#10;        SELECT *&#10;            , CASE &#10;                    WHEN level_2 = 'Нормативы ВПОДК (факторы вли-я)'&#10;                    THEN 1&#10;                    ELSE 0&#10;            END as case_&#10;        FROM CTE&#10;)&#10;SELECT level_1&#10;                , level_2&#10;                , case when [**help] = 'Ликвидность' and level_1 = 'Ликвидность' then 1 else case_ end as case_&#10;FROM CTE_1&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;AhyymHsncvF6&quot; sValueFieldID=&quot;vplO0p6fVqae&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;0&quot; sSelectedFieldID=&quot;Caottw5oeDyl&quot;&gt;&lt;dropDownList isHiddenWhenNoChoice=&quot;1&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="level_2" isaienabled="false"/><r nid="2741000009982" slabel="name_folder" nscreenwidgetid="2741000024332" isonline="true" isscreenonly="false" naligntype="4" nord="8" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;je9KYMvtnFs4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;LO2bbGWPxCyq&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       &#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder&#10;&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END&#10;       AND name_folder LIKE '%'||CASE WHEN [**aa] is null THEN name_folder ELSE [**aa] END||'%' &#10;       AND level_2 IN (CASE WHEN [**aa] is null THEN [**bb] ELSE level_2 END)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;dataset sID=&quot;ZasI2NQ38HXa&quot; sName=&quot;2&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;UE3acQfZ8re2&quot; sName=&quot;level_4&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_4&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;SELECT&#10;level_4&#10;FROM src.psb_fin_blok_struktura_2741000004604&#10;WHERE&#10;level_4 LIKE '%'||CASE WHEN [**aa] is null THEN level_4 ELSE [**aa] END||'%' &#10;     &lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;ZasI2NQ38HXa&quot; sValueFieldID=&quot;UE3acQfZ8re2&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList sNameFieldID=&quot;UE3acQfZ8re2&quot; isSearchVisible=&quot;0&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="cc" isaienabled="false"/><r nid="2741000009983" slabel="Отчет" nscreenid="2741000004322" isonline="true" isscreenonly="false" fwidth="100" naligntype="1" nord="12" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;k8KpndQFLlvw&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;SLn2OX8v14Ka&quot; sName=&quot;umolchanie&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN level_4 = '  '&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;HhBhDR47XO3L&quot; sName=&quot;level_4&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_4&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;osiHfftkCugv&quot; sName=&quot;Новое поле&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE WHEN [**aesc] = '  '&amp;#xA;THEN CASE&amp;#xA;WHEN level_4 = '  '&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;ENDis null&amp;#xA;ELSE CASE&amp;#xA;WHEN level_4 = '  '&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END= 1&amp;#xA;END&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;SLn2OX8v14Ka&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT level_4&#10;FROM src.psb_fin_blok_struktura_2741000004604&#10;UNION ALL&#10;SELECT '  ' AS level_4&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;dataset sID=&quot;YwHeiQuwnO0Y&quot; sName=&quot;2&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;CI3tjfqhJ6q6&quot; sName=&quot;Новое поле&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE WHEN [**aesc] = '  '&amp;#xA;THEN is null&amp;#xA;ELSE 1&amp;#xA;END&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;H3Yga704FZ0r&quot; sName=&quot;Новое поле&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;k8KpndQFLlvw&quot; sValueFieldID=&quot;SLn2OX8v14Ka&quot;&gt;&lt;textSearch&gt;&lt;onSelect&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;/exec&gt;&lt;/onSelect&gt;&lt;/textSearch&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="aa" isaienabled="false"/><r nid="2741000009984" slabel="Табы" nscreenid="2741000004322" isonline="true" isscreenonly="false" fwidth="150" naligntype="1" nord="2" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="true" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;C1R4gUx7E0Qb&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Ii5wNtBxoKf1&quot; sName=&quot;type&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;type&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;SELECT 'Главная' AS type&#10;UNION ALL&#10;SELECT 'Архив' AS type&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;C1R4gUx7E0Qb&quot; sValueFieldID=&quot;Ii5wNtBxoKf1&quot;&gt;&lt;tabs&gt;&lt;/tabs&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="tab1" isaienabled="false"/><r nid="2741000009985" slabel="Подсветка строк" nscreenid="2741000004322" isonline="true" isscreenonly="false" naligntype="1" nord="3" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;gXViO7uSXjok&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;zYmrEMDL3NyV&quot; sName=&quot;sortirovka&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;ROW_NUMBER() OVER (ORDER BY sort)&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;VZjDlZAsl0oc&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;jKxIJuWEMi2K&quot; sName=&quot;umolchanie&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN level_2 = 'Нормативы ВПОДК (факторы вли-я)'&amp;#xA;THEN 0&amp;#xA;ELSE ROW_NUMBER() OVER (ORDER BY sort) &amp;#xA;END&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;jKxIJuWEMi2K&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT &#10;    level_1, &#10;    level_2,&#10;    MIN(sort) AS sort&#10;FROM &#10;    src.psb_fin_blok_struktura_2741000004604&#10;GROUP BY &#10;    ROLLUP(level_1, level_2)&#10;HAVING &#10;    NOT (level_1 IS NULL AND level_2 IS NULL)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;gXViO7uSXjok&quot; sValueFieldID=&quot;zYmrEMDL3NyV&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="hh" isaienabled="false"/><r nid="2741000009986" slabel="Дата" nscreenid="2741000004322" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="8" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;KvPvadGzyWGU&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;navsql&gt;&lt;query&gt;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;KvPvadGzyWGU&quot; sValueFieldID=&quot;aYWN5pS3BQFK&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate2" isaienabled="false"/><r nid="2741000009987" slabel="Версия" nscreenid="2741000004322" isonline="true" isscreenonly="false" naligntype="1" nord="4" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;aPbVJoDttyV6&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;aZJHGxUcgdZJ&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;aZJHGxUcgdZJ&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT &#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;    FROM rb.report r &#10;    JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10;&#10;   SELECT &#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10;&#10;SELECT &#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10;&#10;SELECT &#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;    WHERE&#10;level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;AND g.sname IN ([**bb])&#10;&#10;)&#10;&#10;SELECT &#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       s.name AS name, &#10;       s.number AS number&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON c.level_2 = s.level_2&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;aPbVJoDttyV6&quot; sValueFieldID=&quot;aZJHGxUcgdZJ&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ver" isaienabled="false"/><r nid="2741000009988" slabel="Включение даты" nscreenid="2741000004322" isonline="true" isscreenonly="false" naligntype="1" nord="6" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;MVLId8aTEunv&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;IWN0ZTrIDKTF&quot; sName=&quot;type&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;type&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;EDEkpGnNemmU&quot; sName=&quot;umolchanie&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;umolchanie&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;IWN0ZTrIDKTF&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT 'ON' AS type, 1 AS umolchanie&#10;UNION ALL SELECT 'OFF' AS type, 0 AS umolchanie&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sValueFieldID=&quot;IWN0ZTrIDKTF&quot; sDatasetID=&quot;MVLId8aTEunv&quot; sSelectedFieldID=&quot;EDEkpGnNemmU&quot;&gt;&lt;switcher sText=&quot;Включить&quot; sTextFieldID=&quot;RD8P4qaU0hok&quot;&gt;&lt;onClick&gt;&lt;/onClick&gt;&lt;/switcher&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="vkl" isaienabled="false"/><r nid="2741000009989" slabel="Периодичность" nscreenid="2741000004322" isonline="true" isscreenonly="false" fwidth="100" naligntype="1" nord="5" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;MbqP7j1q0T5j&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;ERuh4yjlr8A2&quot; sName=&quot;type&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;type&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;VkCRWbqLj7A6&quot; sName=&quot;umolchanie&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;umolchanie&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Kgn6QWRxfZvQ&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE type&amp;#xA;WHEN 'Ежедневно' THEN 1&amp;#xA;WHEN 'Еженедельно' THEN 2&amp;#xA;WHEN 'Ежемесячно' THEN 3&amp;#xA;WHEN 'Ежеквартально' THEN 4&amp;#xA;ELSE 5&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;Kgn6QWRxfZvQ&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT 'Ежедневно' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Еженедельно' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Ежеквартально' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Ежемесячно' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Все' AS type, 1 AS umolchanie&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;MbqP7j1q0T5j&quot; sValueFieldID=&quot;ERuh4yjlr8A2&quot; sSelectedFieldID=&quot;VkCRWbqLj7A6&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="tab" isaienabled="false"/><r nid="2741000009990" slabel="Дата" nscreenid="2741000004322" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="9" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;KvPvadGzyWGU&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Yrft3hm7NUYY&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;Yrft3hm7NUYY&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;    FROM rb.report r&#10;    JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;   SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       MAX(c.ddate) AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;AND version = [**ver]&#10; &#10;GROUP BY   c.name_folder, c.parent, c.nid, c.name_doc, c.name_report, c.version, c.level_3, c.parent_2, g.sname)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;       FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;   SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;   FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;   SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;       FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;   SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;        c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname AS business_block&#10;   FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;        c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.url AS url,&#10;       s.role AS role,&#10;       s.name_short AS name_short&#10;   FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block, s.level_1, s.level_2, s.level_3, s.level_4)&#10;   WHERE c.business_block IN ([**business_block])&#10;  AND s.level_2 IN ([**bb])&#10;&#10;   /*AND c.name_folder IN ([**name_report])*/&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;KvPvadGzyWGU&quot; sValueFieldID=&quot;Yrft3hm7NUYY&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate3" isaienabled="false"/><r nid="2741000009991" slabel="Дата" nscreenid="2741000004322" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="7" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;e0IHukyFzJpH&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;yky9mRV4Dyy4&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;yky9mRV4Dyy4&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;/*AND c.name_folder IN ([**name_report])*/)&#10; &#10;SELECT&#10;       ddate&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       /*AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END*/&#10;AND level_2 IN ([**bb])&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;e0IHukyFzJpH&quot; sValueFieldID=&quot;yky9mRV4Dyy4&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate4" isaienabled="false"/><r nid="2741000009992" slabel="Сброс" nscreenid="2741000004322" isonline="true" isscreenonly="false" naligntype="1" nord="1" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;button sStyle=&quot;default&quot; sIcon=&quot;BCC6B584&quot; isLabelHidden=&quot;1&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;aa&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate1&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate3&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate4&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;rr&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/button&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="nm9z" isaienabled="false"/><r nid="2741000009993" slabel="Блок" nscreenid="2741000004322" isonline="true" isscreenonly="false" fwidth="100" naligntype="1" nord="13" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;SgXU1NyzFE6c&quot; sName=&quot;ПСБ ФинБлок Структура&quot; sSource=&quot;psb_fin_blok_struktura_2741000004604&quot; sType=&quot;user&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;IWlR50poXOO6&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;IWlR50poXOO6&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;SgXU1NyzFE6c&quot; sValueFieldID=&quot;IWlR50poXOO6&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList sNameFieldID=&quot;IWlR50poXOO6&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="business_block" isaienabled="false"/><r nid="2741000009994" slabel="Дата" nscreenid="2741000004322" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="10" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;PU9XfAq1bsS4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;ogLSTmdvy1qT&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;ogLSTmdvy1qT&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;/*AND c.name_folder IN ([**name_report])*/)&#10; &#10;SELECT&#10;       ddate&#10;FROM cte&#10;WHERE&#10;       rn &amp;lt;&amp;gt; 1&#10;AND level_2 IN ([**bb])&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;PU9XfAq1bsS4&quot; sValueFieldID=&quot;ogLSTmdvy1qT&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate" isaienabled="false"/><r nid="2741000009995" slabel="Дата" nscreenid="2741000004322" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="11" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;PU9XfAq1bsS4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;pZDOsoaqvfyH&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;pZDOsoaqvfyH&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;/*AND c.name_folder IN ([**name_report])*/)&#10; &#10;SELECT&#10;       ddate&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;AND level_2 IN ([**bb])&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;PU9XfAq1bsS4&quot; sValueFieldID=&quot;pZDOsoaqvfyH&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate1" isaienabled="false"/><r nid="2741000010017" slabel="Выпадающий список" nscreenwidgetid="2741000024332" isonline="true" isscreenonly="false" naligntype="4" nord="2" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;l3oZv5dFOLql&quot; sName=&quot;ПСБ ФинБлок Структура&quot; sSource=&quot;psb_fin_blok_struktura_2741000004604&quot; sType=&quot;user&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;yIZwIbMfquGV&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;/dataset&gt;&lt;dataset sID=&quot;vj9lplwh4NG7&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;navsql&gt;&lt;query&gt;SELECT&#10;level_2&#10;FROM src.psb_fin_blok_struktura_2741000004604&#10;WHERE&#10;level_4 LIKE '%'||CASE WHEN [**aa] is null THEN level_4 ELSE [**aa] END||'%' &#10;     &lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;l3oZv5dFOLql&quot; isMultiselect=&quot;1&quot; sValueFieldID=&quot;yIZwIbMfquGV&quot;&gt;&lt;dropDownList sNameFieldID=&quot;yIZwIbMfquGV&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="zz" isaienabled="false"/><r nid="2741000010232" slabel="Выпадающий список" nscreenwidgetid="2741000024332" isonline="true" isscreenonly="false" naligntype="4" nord="1" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;pXUbIfuYMosv&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;E8eXQFhSvmsz&quot; sName=&quot;level_4&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_4&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;VPz1JGyT464Y&quot; sName=&quot;umolchanie&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN level_4 = '  '&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;E8eXQFhSvmsz&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT level_4&#10;FROM src.psb_fin_blok_struktura_2741000004604&#10;UNION ALL&#10;SELECT '  ' AS level_4&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;pXUbIfuYMosv&quot; sValueFieldID=&quot;E8eXQFhSvmsz&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;1&quot; sSelectedFieldID=&quot;VPz1JGyT464Y&quot;&gt;&lt;dropDownList sNameFieldID=&quot;E8eXQFhSvmsz&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="aesc" isaienabled="false"/><r nid="2741000010355" slabel="Уровень_4" nscreenwidgetid="2741000024913" isonline="true" isscreenonly="false" naligntype="1" nord="3" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;I18NyXLfztWS&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Z7CklgHqvD7J&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       &#10;CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;       &#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4))&#10; &#10;SELECT&#10;    &#10;       level_2&#10;FROM cte&#10;WHERE      &#10;CASE WHEN [**proba] &amp;lt;&amp;gt; 'Все' THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END&#10;AND CASE WHEN [**proba] = 'Все' THEN name_folder in (name_folder) ELSE name_folder in ([**proba]) END&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;I18NyXLfztWS&quot; sValueFieldID=&quot;Z7CklgHqvD7J&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;0&quot; sFullSelectorTitle=&quot;Все&quot;&gt;&lt;dropDownList sNameFieldID=&quot;Z7CklgHqvD7J&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="bb" isaienabled="false"/><r nid="2741000010357" slabel="Уровень_1" nscreenwidgetid="2741000024913" isonline="true" isscreenonly="false" naligntype="1" nord="5" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;qJqobPmtfpCS&quot; sName=&quot;ПСБ_Фин_блок_Структура&quot; sSource=&quot;psb_fin_blok_struktura_2741000004604&quot; sType=&quot;user&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;T76vCo5fdTKo&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;YTkI4UfQSwzT&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE &amp;#xA;WHEN level_1 = 'Ликвидность'&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;YTkI4UfQSwzT&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;qJqobPmtfpCS&quot; sValueFieldID=&quot;T76vCo5fdTKo&quot; isMultiselect=&quot;0&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="level_1" isaienabled="false"/><r nid="2741000010358" slabel="Уровень_3" nscreenwidgetid="2741000024913" isonline="true" isscreenonly="false" naligntype="1" nord="2" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;/datasets&gt;&lt;visuals sValueFieldID=&quot;i99090EyR167&quot; isMultiselect=&quot;0&quot; isFullSelectorVisible=&quot;0&quot;&gt;&lt;dropDownList sNameFieldID=&quot;i99090EyR167&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="help" isaienabled="false"/><r nid="2741000010359" slabel="Выпадающий список" nscreenwidgetid="2741000024913" isonline="true" isscreenonly="false" naligntype="4" nord="1" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;l3oZv5dFOLql&quot; sName=&quot;ПСБ ФинБлок Структура&quot; sSource=&quot;psb_fin_blok_struktura_2741000004604&quot; sType=&quot;user&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;yIZwIbMfquGV&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;l3oZv5dFOLql&quot; isMultiselect=&quot;1&quot; sValueFieldID=&quot;yIZwIbMfquGV&quot;&gt;&lt;dropDownList sNameFieldID=&quot;yIZwIbMfquGV&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="zz" isaienabled="false"/><r nid="2741000010360" slabel="Уровень_2" nscreenwidgetid="2741000024913" isonline="true" isscreenonly="false" naligntype="1" nord="4" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;AhyymHsncvF6&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;YsLErsejn7l7&quot; sName=&quot;level_1&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_1&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;vplO0p6fVqae&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Caottw5oeDyl&quot; sName=&quot;case_&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;case_&quot; sColumnType=&quot;boolean&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH CTE as (&#10;            SELECT level_1&#10;                , level_2&#10;            FROM src.psb_fin_blok_struktura_2741000004604&#10;            WHERE level_1 = [**level_1]&#10;            UNION ALL&#10;            SELECT 'Ликвидность'&#10;                , 'Ликвидность'&#10;)&#10;, CTE_1 as (&#10;        SELECT *&#10;            , CASE &#10;                    WHEN level_2 = 'Нормативы ВПОДК (факторы вли-я)'&#10;                    THEN 1&#10;                    ELSE 0&#10;            END as case_&#10;        FROM CTE&#10;)&#10;SELECT level_1&#10;                , level_2&#10;                , case when [**help] = 'Ликвидность' and level_1 = 'Ликвидность' then 1 else case_ end as case_&#10;FROM CTE_1&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;AhyymHsncvF6&quot; sValueFieldID=&quot;vplO0p6fVqae&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;0&quot; sSelectedFieldID=&quot;Caottw5oeDyl&quot;&gt;&lt;dropDownList isHiddenWhenNoChoice=&quot;1&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="level_2" isaienabled="false"/><r nid="2741000010361" slabel="name_folder" nscreenwidgetid="2741000024913" isonline="true" isscreenonly="false" naligntype="4" nord="6" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;je9KYMvtnFs4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Tdfg38be1qxz&quot; sName=&quot;name_folder&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;name_folder&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) AS name_report,&#10;       SUBSTRING(r.sname FROM 12 FOR 2) AS version,&#10;       TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') AS ddate&#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       &#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;AND c.name_folder IN ([**cc]))&#10; &#10;SELECT&#10;       name_folder&#10;FROM cte&#10;WHERE&#10;   name_folder&#10;    IN ([**cc])&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;dataset sID=&quot;vENQFBchR0ja&quot; sName=&quot;2&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;kFgLGVGLqWtu&quot; sName=&quot;level_4&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_4&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;SELECT&#10;level_4&#10;FROM src.psb_fin_blok_struktura_2741000004604&#10;WHERE&#10;level_4 in ([**cc])&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;vENQFBchR0ja&quot; sValueFieldID=&quot;kFgLGVGLqWtu&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList sNameFieldID=&quot;kFgLGVGLqWtu&quot; isSearchVisible=&quot;0&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="rr" isaienabled="false"/><r nid="2741000010362" slabel="name_folder" nscreenwidgetid="2741000024913" isonline="true" isscreenonly="false" naligntype="4" nord="7" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;ZasI2NQ38HXa&quot; sName=&quot;2&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;UE3acQfZ8re2&quot; sName=&quot;level_4&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_4&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;UE3acQfZ8re2&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT&#10;level_4&#10;FROM src.psb_fin_blok_struktura_2741000004604&#10;WHERE&#10;CASE WHEN [**proba] = 'Все' THEN level_4 in (level_4) ELSE level_4 in ([**proba]) END&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;ZasI2NQ38HXa&quot; sValueFieldID=&quot;UE3acQfZ8re2&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList sNameFieldID=&quot;UE3acQfZ8re2&quot; isSearchVisible=&quot;0&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="cc" isaienabled="false"/><r nid="2741000010364" slabel="Табы" nscreenid="2741000004402" isonline="true" isscreenonly="false" fwidth="150" naligntype="1" nord="6" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="true" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;C1R4gUx7E0Qb&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Ii5wNtBxoKf1&quot; sName=&quot;type&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;type&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;SELECT 'Главная' AS type&#10;UNION ALL&#10;SELECT 'Архив' AS type&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;C1R4gUx7E0Qb&quot; sValueFieldID=&quot;Ii5wNtBxoKf1&quot;&gt;&lt;tabs&gt;&lt;/tabs&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="tab1" isaienabled="false"/><r nid="2741000010365" slabel="Дата" nscreenid="2741000004402" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="12" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;KvPvadGzyWGU&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;navsql&gt;&lt;query&gt;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;KvPvadGzyWGU&quot; sValueFieldID=&quot;aYWN5pS3BQFK&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate2" isaienabled="false"/><r nid="2741000010366" slabel="Включение даты" nscreenid="2741000004402" isonline="true" isscreenonly="false" naligntype="1" nord="10" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;MVLId8aTEunv&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;IWN0ZTrIDKTF&quot; sName=&quot;type&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;type&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;EDEkpGnNemmU&quot; sName=&quot;umolchanie&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;umolchanie&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;IWN0ZTrIDKTF&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT 'ON' AS type, 1 AS umolchanie&#10;UNION ALL SELECT 'OFF' AS type, 0 AS umolchanie&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sValueFieldID=&quot;IWN0ZTrIDKTF&quot; sDatasetID=&quot;MVLId8aTEunv&quot; sSelectedFieldID=&quot;EDEkpGnNemmU&quot;&gt;&lt;switcher sText=&quot;Включить&quot; sTextFieldID=&quot;RD8P4qaU0hok&quot;&gt;&lt;onClick&gt;&lt;/onClick&gt;&lt;/switcher&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="vkl" isaienabled="false"/><r nid="2741000010367" slabel="Подсветка строк" nscreenid="2741000004402" isonline="true" isscreenonly="false" naligntype="1" nord="7" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;gXViO7uSXjok&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;0&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;zYmrEMDL3NyV&quot; sName=&quot;sortirovka&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;ROW_NUMBER() OVER (ORDER BY sort)&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;VZjDlZAsl0oc&quot; sName=&quot;level_2&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_2&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;jKxIJuWEMi2K&quot; sName=&quot;umolchanie&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN level_2 = 'Нормативы ВПОДК (факторы вли-я)'&amp;#xA;THEN 0&amp;#xA;ELSE ROW_NUMBER() OVER (ORDER BY sort) &amp;#xA;END&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;jKxIJuWEMi2K&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT &#10;    level_1, &#10;    level_2,&#10;    MIN(sort) AS sort&#10;FROM &#10;    src.psb_fin_blok_struktura_2741000004604&#10;GROUP BY &#10;    ROLLUP(level_1, level_2)&#10;HAVING &#10;    NOT (level_1 IS NULL AND level_2 IS NULL)&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;gXViO7uSXjok&quot; sValueFieldID=&quot;zYmrEMDL3NyV&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="hh" isaienabled="false"/><r nid="2741000010368" slabel="Версия" nscreenid="2741000004402" isonline="true" isscreenonly="false" naligntype="1" nord="8" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;aPbVJoDttyV6&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;aZJHGxUcgdZJ&quot; sName=&quot;version&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;version&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;aZJHGxUcgdZJ&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       )&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       s.dashboard AS dashboard,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;)&#10; &#10;SELECT&#10;       name_folder,&#10;       name_report,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short,&#10;       dashboard&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;  AND name_folder = name_report  &#10;&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;aPbVJoDttyV6&quot; sValueFieldID=&quot;aZJHGxUcgdZJ&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ver" isaienabled="false"/><r nid="2741000010369" slabel="Периодичность" nscreenid="2741000004402" isonline="true" isscreenonly="false" fwidth="100" naligntype="1" nord="9" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;MbqP7j1q0T5j&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;ERuh4yjlr8A2&quot; sName=&quot;type&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;type&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;VkCRWbqLj7A6&quot; sName=&quot;umolchanie&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;umolchanie&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;Kgn6QWRxfZvQ&quot; sName=&quot;sort&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE type&amp;#xA;WHEN 'Ежедневно' THEN 1&amp;#xA;WHEN 'Еженедельно' THEN 2&amp;#xA;WHEN 'Ежемесячно' THEN 3&amp;#xA;WHEN 'Ежеквартально' THEN 4&amp;#xA;ELSE 5&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;Kgn6QWRxfZvQ&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT 'Ежедневно' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Еженедельно' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Ежеквартально' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Ежемесячно' AS type, 0 AS umolchanie&#10;UNION ALL&#10;SELECT 'Все' AS type, 1 AS umolchanie&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;MbqP7j1q0T5j&quot; sValueFieldID=&quot;ERuh4yjlr8A2&quot; sSelectedFieldID=&quot;VkCRWbqLj7A6&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="tab" isaienabled="false"/><r nid="2741000010370" slabel="Дата" nscreenid="2741000004402" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="14" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;PU9XfAq1bsS4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;ogLSTmdvy1qT&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;ogLSTmdvy1qT&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       &#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;       &#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       ddate&#10;FROM cte&#10;WHERE&#10;       rn &amp;lt;&amp;gt; 1&#10;AND level_2 IN ([**bb])&#10;AND name_report = name_folder&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;PU9XfAq1bsS4&quot; sValueFieldID=&quot;ogLSTmdvy1qT&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate" isaienabled="false"/><r nid="2741000010371" slabel="Сброс" nscreenid="2741000004402" isonline="true" isscreenonly="false" naligntype="1" nord="4" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;button sStyle=&quot;default&quot; sIcon=&quot;BCC6B584&quot; isLabelHidden=&quot;1&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;proba&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;business_block&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;cc&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate1&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate3&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;ddate4&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamFuture&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;rr&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;exec sFunction=&quot;gdash.setParamOnline&quot;&gt;&lt;arg sName=&quot;code&quot; sValue=&quot;tab&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/button&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="nm9z" isaienabled="false"/><r nid="2741000010372" slabel="Блок" nscreenid="2741000004402" isonline="true" isscreenonly="false" fwidth="100" naligntype="1" nord="17" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;SgXU1NyzFE6c&quot; sName=&quot;ПСБ ФинБлок Структура&quot; sSource=&quot;psb_fin_blok_struktura_2741000004604&quot; sType=&quot;user&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;IWlR50poXOO6&quot; sName=&quot;business_block&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;business_block&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;IWlR50poXOO6&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;SgXU1NyzFE6c&quot; sValueFieldID=&quot;IWlR50poXOO6&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;1&quot;&gt;&lt;dropDownList sNameFieldID=&quot;IWlR50poXOO6&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="business_block" isaienabled="false"/><r nid="2741000010373" slabel="Дата" nscreenid="2741000004402" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="15" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;PU9XfAq1bsS4&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;pZDOsoaqvfyH&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;pZDOsoaqvfyH&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       &#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;       &#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;/*AND c.name_folder IN ([**name_report])*/)&#10; &#10;SELECT&#10;       ddate&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;AND level_2 IN ([**bb])&#10;AND name_folder = name_report&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;PU9XfAq1bsS4&quot; sValueFieldID=&quot;pZDOsoaqvfyH&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate1" isaienabled="false"/><r nid="2741000010374" slabel="Дата" nscreenid="2741000004402" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="13" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;KvPvadGzyWGU&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;Yrft3hm7NUYY&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;Yrft3hm7NUYY&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       &#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;       &#10;    FROM rb.report r&#10;    JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;   SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       MAX(c.ddate) AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;AND version = [**ver]&#10; &#10;GROUP BY   c.name_folder, c.parent, c.nid, c.name_doc, c.name_report, c.version, c.level_3, c.parent_2, g.sname)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;       FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;   SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;   FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;   SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;       FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;   SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;        c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname AS business_block&#10;   FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;        c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.url AS url,&#10;       s.role AS role,&#10;       s.name_short AS name_short&#10;   FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block, s.level_1, s.level_2, s.level_3, s.level_4)&#10;   WHERE c.business_block IN ([**business_block])&#10;  AND s.level_2 IN ([**bb])&#10;  AND name_report = name_folder&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;KvPvadGzyWGU&quot; sValueFieldID=&quot;Yrft3hm7NUYY&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate3" isaienabled="false"/><r nid="2741000010375" slabel="Дата" nscreenid="2741000004402" isonline="true" isscreenonly="false" fwidth="135" naligntype="1" nord="11" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;e0IHukyFzJpH&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;yky9mRV4Dyy4&quot; sName=&quot;ddate&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;ddate&quot; sColumnType=&quot;datetime&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;yky9mRV4Dyy4&quot; sType=&quot;DESC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;SELECT&#10;       g.sname AS name_folder,&#10;       g.nparentid AS parent,&#10;       g.nid AS nid,&#10;       r.nid AS name_doc,&#10;       &#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;       CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;       &#10;FROM rb.report r&#10;       JOIN rb.group g ON r.ngroupid = g.nid&#10;)&#10; &#10;SELECT&#10;    c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       g.sname AS level_3&#10;   FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       g.nparentid AS parent_2&#10;FROM cte c JOIN rb.group g ON c.parent = g.nid)&#10; &#10;SELECT&#10;   c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       g.sname  AS level_2&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;WHERE&#10;       level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;       AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;&#10;       AND version = [**ver])&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       g.nparentid AS parent_3&#10;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       g.sname AS level_1&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block])&#10;/*AND c.name_folder IN ([**name_report])*/)&#10; &#10;SELECT&#10;       ddate&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       /*AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END*/&#10;AND level_2 IN ([**bb])&#10;AND name_report = name_folder&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;e0IHukyFzJpH&quot; sValueFieldID=&quot;yky9mRV4Dyy4&quot;&gt;&lt;datePicker sSelectionMode=&quot;single&quot; nDynamicType=&quot;5&quot;&gt;&lt;/datePicker&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="ddate4" isaienabled="false"/><r nid="2741000010376" slabel="Отчет" nscreenid="2741000004402" isonline="true" isscreenonly="false" fwidth="100" naligntype="1" nord="16" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;pXUbIfuYMosv&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;E8eXQFhSvmsz&quot; sName=&quot;level_4&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;level_4&quot; sColumnType=&quot;string&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;VPz1JGyT464Y&quot; sName=&quot;umolchanie&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;CASE&amp;#xA;WHEN level_4 = 'Все'&amp;#xA;THEN 1&amp;#xA;ELSE 0&amp;#xA;END&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;sort&gt;&lt;r sFieldID=&quot;E8eXQFhSvmsz&quot; sType=&quot;ASC&quot;&gt;&lt;/r&gt;&lt;/sort&gt;&lt;navsql&gt;&lt;query&gt;SELECT level_4&#10;FROM src.psb_fin_blok_struktura_2741000004604&#10;UNION ALL&#10;SELECT 'Все' AS level_4&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;pXUbIfuYMosv&quot; sValueFieldID=&quot;E8eXQFhSvmsz&quot; isMultiselect=&quot;1&quot; isFullSelectorVisible=&quot;0&quot; sSelectedFieldID=&quot;VPz1JGyT464Y&quot;&gt;&lt;dropDownList sNameFieldID=&quot;E8eXQFhSvmsz&quot; isSearchVisible=&quot;1&quot;&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="proba" isaienabled="false"/><r nid="2741000011051" slabel="Ошибки" nscreenid="2741000004402" isonline="true" isscreenonly="false" naligntype="1" nord="5" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="false" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;/datasets&gt;&lt;visuals&gt;&lt;button sStyle=&quot;default&quot; sIcon=&quot;4de1e5ec&quot; isLabelHidden=&quot;1&quot;&gt;&lt;onClick&gt;&lt;exec sFunction=&quot;gdash.showPopup&quot;&gt;&lt;arg sName=&quot;widgetId&quot; sValue=&quot;2741000024914&quot;&gt;&lt;/arg&gt;&lt;/exec&gt;&lt;/onClick&gt;&lt;/button&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="wukj" isaienabled="false"/><r nid="2741000011617" slabel="Кнопка" nscreenid="2741000004402" isonline="true" isscreenonly="false" naligntype="1" nord="18" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;HwUYZObERg0R&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;tCvZyKbgWevM&quot; sName=&quot;svalue&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;svalue&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;r sID=&quot;owEgvqKwcY30&quot; sName=&quot;sname&quot; sType=&quot;column&quot; isHidden=&quot;0&quot; sExp=&quot;sname&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;select&#10;&#9;case when [**nuserid] in (12345,56789) then 1 else 0 end as svalue,&#10;&#9;case when [**nuserid] in (12345,56789) then 1 else 0 end as sname&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;HwUYZObERg0R&quot; sValueFieldID=&quot;tCvZyKbgWevM&quot;&gt;&lt;button sStyle=&quot;default&quot;&gt;&lt;/button&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="error_list_hidden" isaienabled="false"/><r nid="2741000012685" slabel="count_report_level_2" nscreenid="2741000004402" isonline="true" isscreenonly="false" naligntype="1" nord="1" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;TryF6OrZaDJj&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;d8YNyBanb8g0&quot; sName=&quot;count_report_level_2&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;distinct count_report_level_2&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;&#9;WITH cte AS (&#10;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.sname AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.nparentid AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   r.nid AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;FROM rb.report r&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   JOIN rb.group g ON r.ngroupid = g.nid&#10;&#9;&#9;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.sname AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   1 as count&#10;&#9;&#9;&#9;&#9;&#9;&#9;   FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;&#9;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;  c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   g.nparentid AS parent_2&#10;&#9;&#9;&#9;&#9;&#9;&#9;   ,sum(c.count) OVER (PARTITION BY g.nparentid, c.level_3, c.name_folder, c.name_report) as count_files&#10;&#9;&#9;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;&#9;&#9;&#9;&#9;&#9;--GROUP BY c.name_folder, c.parent, c.nid, c.name_doc, c.name_report, c.version, c.ddate, c.level_3, g.nparentid&#10;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;   c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;&#9;&#9;   g.sname  AS level_2&#10;&#9;&#9;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;&#9;&#9;   --,case when c.count_files &amp;gt;= 1 then count(c.name_folder) OVER (PARTITION BY g.sname, /*c.parent_2,*/ c.level_3) end count_report&#10;&#9;&#9;&#9;&#9;&#9;   ,case when c.count_files &amp;gt;= 1 then 1 end count_report&#10;&#9;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;&#9;&#9;&#9;&#9;WHERE&#10;&#9;&#9;&#9;&#9;&#9;   level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;&#9;&#9;&#9;&#9;&#9;   AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;&#9;&#9;&#9;&#9;&#9;   AND version = [**ver]&#10;&#9;&#9;&#9;)&#10;&#9;&#9; &#10;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;&#9;   c.level_2  AS level_2,&#10;&#9;&#9;&#9;&#9;   g.nparentid AS parent_3&#10;&#9;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;&#9;   ,c.count_report as count_report&#10;&#9;&#9;&#9;&#9;   --,sum(c.count_report) OVER (PARTITION BY g.nparentid, c.level_2, c.level_3, c.name_folder) as count_report_level_2&#10;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;&#9;&#9;)&#10;&#9; &#10;&#9;&#9;SELECT&#10;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;   c.level_2  AS level_2,&#10;&#9;&#9;&#9;   c.parent_3 AS parent_3,&#10;&#9;&#9;&#9;   g.sname AS level_1&#10;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;   ,c.count_report as count_report&#10;&#9;&#9;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid&#10;&#9;)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       s.dashboard AS dashboard&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;       ,ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder,&#10;       name_report,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short,&#10;       dashboard&#10;&#9;   ,count_files&#10;&#9;   ,count_report&#10;&#9;   ,sum(count_report) over (partition by level_1, level_2, level_3) as count_report_level_3&#10;&#9;   ,sum(count_report) over (partition by level_1, level_2) as count_report_level_2&#10;&#9;   ,sum(count_report) over (partition by level_1) as count_report_level_1&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END&#10;AND name_folder in ([**rr])&#10;AND   &#10;CASE WHEN [**proba] &amp;lt;&amp;gt; 'Все' THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END&#10;AND CASE WHEN [**proba] = 'Все' THEN name_folder in (name_folder) ELSE name_folder in ([**proba]) END&#10;AND name_folder = name_report&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;TryF6OrZaDJj&quot; sValueFieldID=&quot;d8YNyBanb8g0&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="count_report_level_2"/><r nid="2741000012687" slabel="count_report_level_3" nscreenid="2741000004402" isonline="true" isscreenonly="false" naligntype="1" nord="2" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;TryF6OrZaDJj&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;oWz3H7Dgbnhn&quot; sName=&quot;count_report_level_3&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;distinct count_report_level_3&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;&#9;WITH cte AS (&#10;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.sname AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.nparentid AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   r.nid AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;FROM rb.report r&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   JOIN rb.group g ON r.ngroupid = g.nid&#10;&#9;&#9;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.sname AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   1 as count&#10;&#9;&#9;&#9;&#9;&#9;&#9;   FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;&#9;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;  c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   g.nparentid AS parent_2&#10;&#9;&#9;&#9;&#9;&#9;&#9;   ,sum(c.count) OVER (PARTITION BY g.nparentid, c.level_3, c.name_folder, c.name_report) as count_files&#10;&#9;&#9;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;&#9;&#9;&#9;&#9;&#9;--GROUP BY c.name_folder, c.parent, c.nid, c.name_doc, c.name_report, c.version, c.ddate, c.level_3, g.nparentid&#10;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;   c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;&#9;&#9;   g.sname  AS level_2&#10;&#9;&#9;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;&#9;&#9;   --,case when c.count_files &amp;gt;= 1 then count(c.name_folder) OVER (PARTITION BY g.sname, /*c.parent_2,*/ c.level_3) end count_report&#10;&#9;&#9;&#9;&#9;&#9;   ,case when c.count_files &amp;gt;= 1 then 1 end count_report&#10;&#9;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;&#9;&#9;&#9;&#9;WHERE&#10;&#9;&#9;&#9;&#9;&#9;   level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;&#9;&#9;&#9;&#9;&#9;   AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;&#9;&#9;&#9;&#9;&#9;   AND version = [**ver]&#10;&#9;&#9;&#9;)&#10;&#9;&#9; &#10;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;&#9;   c.level_2  AS level_2,&#10;&#9;&#9;&#9;&#9;   g.nparentid AS parent_3&#10;&#9;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;&#9;   ,c.count_report as count_report&#10;&#9;&#9;&#9;&#9;   --,sum(c.count_report) OVER (PARTITION BY g.nparentid, c.level_2, c.level_3, c.name_folder) as count_report_level_2&#10;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;&#9;&#9;)&#10;&#9; &#10;&#9;&#9;SELECT&#10;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;   c.level_2  AS level_2,&#10;&#9;&#9;&#9;   c.parent_3 AS parent_3,&#10;&#9;&#9;&#9;   g.sname AS level_1&#10;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;   ,c.count_report as count_report&#10;&#9;&#9;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid&#10;&#9;)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       s.dashboard AS dashboard&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;       ,ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder,&#10;       name_report,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short,&#10;       dashboard&#10;&#9;   ,count_files&#10;&#9;   ,count_report&#10;&#9;   ,sum(count_report) over (partition by level_1, level_2, level_3) as count_report_level_3&#10;&#9;   ,sum(count_report) over (partition by level_1, level_2) as count_report_level_2&#10;&#9;   ,sum(count_report) over (partition by level_1) as count_report_level_1&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END&#10;AND name_folder in ([**rr])&#10;AND   &#10;CASE WHEN [**proba] &amp;lt;&amp;gt; 'Все' THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END&#10;AND CASE WHEN [**proba] = 'Все' THEN name_folder in (name_folder) ELSE name_folder in ([**proba]) END&#10;AND name_folder = name_report&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;TryF6OrZaDJj&quot; sValueFieldID=&quot;oWz3H7Dgbnhn&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="count_report_level_3"/><r nid="2741000012688" slabel="count_report_level_1" nscreenid="2741000004402" isonline="true" isscreenonly="false" naligntype="1" nord="3" isdisabled="false" ishideaftercalc="false" isshowsearchstring="false" iscollapseselecteddescendant="false" ishidedisabled="false" ishideonclient="true" ishidelabel="false" nobjecttypeid="25" xcontrol="&lt;control&gt;&lt;datasets&gt;&lt;dataset sID=&quot;TryF6OrZaDJj&quot; sName=&quot;NavSQL запрос&quot; sSource=&quot;NAVSQL_LOCAL&quot; sType=&quot;navsql&quot; isExtended=&quot;0&quot; isDependent=&quot;0&quot; isDistinct=&quot;1&quot;&gt;&lt;fields&gt;&lt;r sID=&quot;vRUTpaY17OUG&quot; sName=&quot;count_report_level_1&quot; sType=&quot;exp&quot; isHidden=&quot;0&quot; sExp=&quot;distinct count_report_level_1&quot; sColumnType=&quot;number&quot;&gt;&lt;/r&gt;&lt;/fields&gt;&lt;navsql&gt;&lt;query&gt;WITH cte AS (&#10;WITH cte AS (&#10;WITH cte AS (&#10;&#9;WITH cte AS (&#10;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;&#9;WITH cte AS (&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.sname AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.nparentid AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   r.nid AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 15 FOR char_length(r.sname) - position('.' IN REVERSE(r.sname)) - 14) ELSE 'Ошибка в дате' END AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN SUBSTRING(r.sname FROM 12 FOR 2) ELSE '5' END AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   CASE WHEN SUBSTRING(r.sname,1,10) SIMILAR TO '([[:digit:]]){4}-((0[1-9]|1[0-2]))-(0[1-9]|[12][0-9]|3[01])' THEN TO_DATE(SUBSTRING(r.sname,1,10), 'YYYY-MM-DD') ELSE  TO_DATE('2030-01-01', 'YYYY-MM-DD') END AS ddate &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   &#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;FROM rb.report r&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   JOIN rb.group g ON r.ngroupid = g.nid&#10;&#9;&#9;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   g.sname AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;   1 as count&#10;&#9;&#9;&#9;&#9;&#9;&#9;   FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;&#9;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;&#9;&#9;  c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;&#9;   g.nparentid AS parent_2&#10;&#9;&#9;&#9;&#9;&#9;&#9;   ,sum(c.count) OVER (PARTITION BY g.nparentid, c.level_3, c.name_folder, c.name_report) as count_files&#10;&#9;&#9;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent = g.nid&#10;&#9;&#9;&#9;&#9;&#9;--GROUP BY c.name_folder, c.parent, c.nid, c.name_doc, c.name_report, c.version, c.ddate, c.level_3, g.nparentid&#10;&#9;&#9;&#9;&#9;)&#10;&#9;&#9;&#9; &#10;&#9;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;&#9;   c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;&#9;&#9;   g.sname  AS level_2&#10;&#9;&#9;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;&#9;&#9;   --,case when c.count_files &amp;gt;= 1 then count(c.name_folder) OVER (PARTITION BY g.sname, /*c.parent_2,*/ c.level_3) end count_report&#10;&#9;&#9;&#9;&#9;&#9;   ,case when c.count_files &amp;gt;= 1 then 1 end count_report&#10;&#9;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;&#9;&#9;&#9;&#9;WHERE&#10;&#9;&#9;&#9;&#9;&#9;   level_3 IN  ('Ежедневно', 'Еженедельно', 'Ежемесячно', 'Ежеквартально')&#10;&#9;&#9;&#9;&#9;&#9;   AND (level_3 = CASE WHEN [**tab] = 'Все' THEN level_3 ELSE [**tab] END)&#10;&#9;&#9;&#9;&#9;&#9;   AND version = [**ver]&#10;&#9;&#9;&#9;)&#10;&#9;&#9; &#10;&#9;&#9;&#9;SELECT&#10;&#9;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;&#9;   c.level_2  AS level_2,&#10;&#9;&#9;&#9;&#9;   g.nparentid AS parent_3&#10;&#9;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;&#9;   ,c.count_report as count_report&#10;&#9;&#9;&#9;&#9;   --,sum(c.count_report) OVER (PARTITION BY g.nparentid, c.level_2, c.level_3, c.name_folder) as count_report_level_2&#10;&#9;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_2 = g.nid&#10;&#9;&#9;)&#10;&#9; &#10;&#9;&#9;SELECT&#10;&#9;&#9;c.name_folder AS name_folder,&#10;&#9;&#9;&#9;   c.parent AS parent,&#10;&#9;&#9;&#9;   c.nid AS nid,&#10;&#9;&#9;&#9;   c.name_doc AS name_doc,&#10;&#9;&#9;&#9;   c.name_report AS name_report,&#10;&#9;&#9;&#9;   c.version AS version,&#10;&#9;&#9;&#9;   c.ddate AS ddate,&#10;&#9;&#9;&#9;   c.level_3 AS level_3,&#10;&#9;&#9;&#9;   c.parent_2 AS parent_2,&#10;&#9;&#9;&#9;   c.level_2  AS level_2,&#10;&#9;&#9;&#9;   c.parent_3 AS parent_3,&#10;&#9;&#9;&#9;   g.sname AS level_1&#10;&#9;&#9;&#9;   ,c.count_files as count_files&#10;&#9;&#9;&#9;   ,c.count_report as count_report&#10;&#9;&#9;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;&#9;&#9;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid&#10;&#9;)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       g.nparentid AS parent_4&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_3 = g.nid)&#10; &#10;SELECT&#10;c.name_folder AS name_folder,&#10;       c.parent AS parent,&#10;       c.nid AS nid,&#10;       c.name_doc AS name_doc,&#10;       c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.parent_2 AS parent_2,&#10;       c.level_2  AS level_2,&#10;       c.parent_3 AS parent_3,&#10;       c.level_1 AS level_1,&#10;       c.parent_4 AS parent_4,&#10;       g.sname  AS business_block&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;FROM cte c JOIN rb.group g ON c.parent_4 = g.nid)&#10; &#10;SELECT&#10;      c.name_folder AS name_folder,&#10;      c.name_report AS name_report,&#10;       c.version AS version,&#10;       c.ddate AS ddate,&#10;       c.level_3 AS level_3,&#10;       c.level_2  AS level_2,&#10;       c.level_1 AS level_1,&#10;       C.name_doc AS name_doc,&#10;       c.business_block AS business_block,&#10;       s.name AS name,&#10;       s.number AS number,&#10;       s.role AS role,&#10;       s.url AS url,&#10;       s.name_short AS name_short,&#10;       s.dashboard AS dashboard&#10;&#9;   ,c.count_files as count_files&#10;&#9;   ,c.count_report as count_report&#10;&#9;   --,c.count_report_level_2 as count_report_level_2&#10;       ,ROW_NUMBER() OVER(PARTITION BY c.name_folder, c.level_3, c.level_2, c.level_1, c.business_block ORDER BY ddate DESC) AS rn&#10;FROM cte c JOIN src.psb_fin_blok_struktura_2741000004604 s ON&#10;CONCAT(c.business_block, c.level_1, c.level_2, c.level_3, c.name_folder) = CONCAT(s.business_block,s.level_1,s.level_2,s.level_3, s.level_4)&#10;WHERE&#10;c.business_block IN ([**business_block]))&#10; &#10;SELECT&#10;       name_folder,&#10;       name_report,&#10;       version,&#10;       ddate,&#10;       level_3,&#10;       level_2,&#10;       level_1,&#10;       name_doc,&#10;       business_block,&#10;       name,&#10;       number,&#10;       role,&#10;       url,&#10;       name_short,&#10;       dashboard&#10;&#9;   ,count_files&#10;&#9;   ,count_report&#10;&#9;   ,sum(count_report) over (partition by level_1, level_2, level_3) as count_report_level_3&#10;&#9;   ,sum(count_report) over (partition by level_1, level_2) as count_report_level_2&#10;&#9;   ,sum(count_report) over (partition by level_1) as count_report_level_1&#10;FROM cte&#10;WHERE&#10;       rn = 1&#10;       AND&#10;              CASE&#10;              WHEN [**vkl] = 'OFF'&#10;              THEN ddate = [**ddate4]&#10;              ELSE ddate &amp;lt;= [**ddate1]&#10;              END&#10;AND name_folder in ([**rr])&#10;AND   &#10;CASE WHEN [**proba] &amp;lt;&amp;gt; 'Все' THEN level_2 IN ([**zz]) ELSE &#10;level_2 IN ([**level_2]) END&#10;AND CASE WHEN [**proba] = 'Все' THEN name_folder in (name_folder) ELSE name_folder in ([**proba]) END&#10;AND name_folder = name_report&#10;&lt;/query&gt;&lt;/navsql&gt;&lt;/dataset&gt;&lt;/datasets&gt;&lt;visuals sDatasetID=&quot;TryF6OrZaDJj&quot; sValueFieldID=&quot;vRUTpaY17OUG&quot;&gt;&lt;dropDownList&gt;&lt;/dropDownList&gt;&lt;hierarchy&gt;&lt;/hierarchy&gt;&lt;/visuals&gt;&lt;/control&gt;" nviewtype="13" scode="count_report_level_1"/></t20><t24 sCheck="102"><r nid="2741000002980" nscreenwidgetid="2741000023930" scode="tab1" svalue="Архив" ntype="1" isactive="true"/><r nid="2741000002986" nscreenwidgetid="2741000023958" scode="tab1" svalue="Главная" ntype="1" isactive="true"/><r nid="2741000003109" nscreenwidgetid="2741000024331" scode="tab1" svalue="Главная" ntype="1" isactive="true"/><r nid="2741000003110" nscreenwidgetid="2741000024333" scode="tab1" svalue="Архив" ntype="1" isactive="true"/><r nid="2741000003238" nscreenwidgetid="2741000024912" scode="tab1" svalue="Главная" ntype="1" isactive="true"/><r nid="2741000003556" nscreenwidgetid="2741000025786" scode="tab1" svalue="Архив" ntype="1" isactive="true"/></t24><t33 sCheck="59"><r nid="1093502" ncontrolobjectid="2741000012688" nparentcontrolobjectid="2741000010360"/><r nid="1093503" ncontrolobjectid="2741000010355" nparentcontrolobjectid="2741000010376"/><r nid="1093504" ncontrolobjectid="2741000012685" nparentcontrolobjectid="2741000010359"/><r nid="1093505" ncontrolobjectid="2741000012688" nparentcontrolobjectid="2741000010359"/><r nid="1093506" ncontrolobjectid="2741000012685" nparentcontrolobjectid="2741000010375"/><r nid="1093507" ncontrolobjectid="2741000012688" nparentcontrolobjectid="2741000010366"/><r nid="1093508" ncontrolobjectid="2741000010362" nparentcontrolobjectid="2741000010376"/><r nid="1093509" ncontrolobjectid="2741000010360" nparentcontrolobjectid="2741000010357"/><r nid="1093510" ncontrolobjectid="2741000012685" nparentcontrolobjectid="2741000010373"/><r nid="1093511" ncontrolobjectid="2741000012685" nparentcontrolobjectid="2741000010369"/><r nid="1093512" ncontrolobjectid="2741000010374" nparentcontrolobjectid="2741000010355"/><r nid="1093513" ncontrolobjectid="2741000012687" nparentcontrolobjectid="2741000010375"/><r nid="1093514" ncontrolobjectid="2741000010355" nparentcontrolobjectid="2741000010360"/><r nid="1093515" ncontrolobjectid="2741000010375" nparentcontrolobjectid="2741000010355"/><r nid="1093516" ncontrolobjectid="2741000012685" nparentcontrolobjectid="2741000010372"/><r nid="1093517" ncontrolobjectid="2741000012687" nparentcontrolobjectid="2741000010376"/><r nid="1093518" ncontrolobjectid="2741000010368" nparentcontrolobjectid="2741000010369"/><r nid="1093519" ncontrolobjectid="2741000010373" nparentcontrolobjectid="2741000010372"/><r nid="1093520" ncontrolobjectid="2741000012688" nparentcontrolobjectid="2741000010368"/><r nid="1093521" ncontrolobjectid="2741000012687" nparentcontrolobjectid="2741000010369"/><r nid="1093522" ncontrolobjectid="2741000010360" nparentcontrolobjectid="2741000010358"/><r nid="1093523" ncontrolobjectid="2741000010375" nparentcontrolobjectid="2741000010373"/><r nid="1093524" ncontrolobjectid="2741000010373" nparentcontrolobjectid="2741000010355"/><r nid="1093525" ncontrolobjectid="2741000010361" nparentcontrolobjectid="2741000010362"/><r nid="1093526" ncontrolobjectid="2741000012688" nparentcontrolobjectid="2741000010369"/><r nid="1093527" ncontrolobjectid="2741000010374" nparentcontrolobjectid="2741000010372"/><r nid="1093528" ncontrolobjectid="2741000012685" nparentcontrolobjectid="2741000010361"/><r nid="1093529" ncontrolobjectid="2741000010373" nparentcontrolobjectid="2741000010368"/><r nid="1093530" ncontrolobjectid="2741000010370" nparentcontrolobjectid="2741000010355"/><r nid="1093531" ncontrolobjectid="2741000012687" nparentcontrolobjectid="2741000010372"/><r nid="1093532" ncontrolobjectid="2741000010374" nparentcontrolobjectid="2741000010368"/><r nid="1093533" ncontrolobjectid="2741000010374" nparentcontrolobjectid="2741000010369"/><r nid="1093534" ncontrolobjectid="2741000012688" nparentcontrolobjectid="2741000010376"/><r nid="1093535" ncontrolobjectid="2741000012688" nparentcontrolobjectid="2741000010372"/><r nid="1093536" ncontrolobjectid="2741000012688" nparentcontrolobjectid="2741000010375"/><r nid="1093537" ncontrolobjectid="2741000012685" nparentcontrolobjectid="2741000010368"/><r nid="1093538" ncontrolobjectid="2741000012687" nparentcontrolobjectid="2741000010359"/><r nid="1093539" ncontrolobjectid="2741000012687" nparentcontrolobjectid="2741000010366"/><r nid="1093540" ncontrolobjectid="2741000012687" nparentcontrolobjectid="2741000010368"/><r nid="1093541" ncontrolobjectid="2741000010375" nparentcontrolobjectid="2741000010369"/><r nid="1093542" ncontrolobjectid="2741000010375" nparentcontrolobjectid="2741000010366"/><r nid="1093543" ncontrolobjectid="2741000010375" nparentcontrolobjectid="2741000010368"/><r nid="1093544" ncontrolobjectid="2741000012688" nparentcontrolobjectid="2741000010373"/><r nid="1093545" ncontrolobjectid="2741000010355" nparentcontrolobjectid="2741000010369"/><r nid="1093546" ncontrolobjectid="2741000012687" nparentcontrolobjectid="2741000010373"/><r nid="1093547" ncontrolobjectid="2741000010373" nparentcontrolobjectid="2741000010369"/><r nid="1093548" ncontrolobjectid="2741000012685" nparentcontrolobjectid="2741000010366"/><r nid="1093549" ncontrolobjectid="2741000010355" nparentcontrolobjectid="2741000010359"/><r nid="1093550" ncontrolobjectid="2741000010375" nparentcontrolobjectid="2741000010372"/><r nid="1093551" ncontrolobjectid="2741000012685" nparentcontrolobjectid="2741000010376"/><r nid="1093552" ncontrolobjectid="2741000012688" nparentcontrolobjectid="2741000010361"/><r nid="1093553" ncontrolobjectid="2741000012685" nparentcontrolobjectid="2741000010360"/><r nid="1093554" ncontrolobjectid="2741000010370" nparentcontrolobjectid="2741000010368"/><r nid="1093555" ncontrolobjectid="2741000010370" nparentcontrolobjectid="2741000010372"/><r nid="1093556" ncontrolobjectid="2741000012687" nparentcontrolobjectid="2741000010360"/><r nid="1093557" ncontrolobjectid="2741000010370" nparentcontrolobjectid="2741000010369"/><r nid="1093558" ncontrolobjectid="2741000012687" nparentcontrolobjectid="2741000010361"/><r nid="1032592" ncontrolobjectid="2741000009598" nparentcontrolobjectid="2741000009609"/><r nid="1032593" ncontrolobjectid="2741000009914" nparentcontrolobjectid="2741000009609"/><r nid="1032594" ncontrolobjectid="2741000009603" nparentcontrolobjectid="2741000009608"/><r nid="1032595" ncontrolobjectid="2741000009589" nparentcontrolobjectid="2741000009609"/><r nid="1032596" ncontrolobjectid="2741000009965" nparentcontrolobjectid="2741000009587"/><r nid="1032597" ncontrolobjectid="2741000009603" nparentcontrolobjectid="2741000009589"/><r nid="1032598" ncontrolobjectid="2741000009914" nparentcontrolobjectid="2741000009608"/><r nid="1032599" ncontrolobjectid="2741000009602" nparentcontrolobjectid="2741000009590"/><r nid="1032600" ncontrolobjectid="2741000009585" nparentcontrolobjectid="2741000009602"/><r nid="1032601" ncontrolobjectid="2741000009602" nparentcontrolobjectid="2741000009592"/><r nid="1032602" ncontrolobjectid="2741000009586" nparentcontrolobjectid="2741000009609"/><r nid="1032603" ncontrolobjectid="2741000009602" nparentcontrolobjectid="2741000009965"/><r nid="1032604" ncontrolobjectid="2741000009602" nparentcontrolobjectid="2741000009603"/><r nid="1032605" ncontrolobjectid="2741000009603" nparentcontrolobjectid="2741000009590"/><r nid="1032606" ncontrolobjectid="2741000009602" nparentcontrolobjectid="2741000009593"/><r nid="1032607" ncontrolobjectid="2741000009586" nparentcontrolobjectid="2741000009590"/><r nid="1032608" ncontrolobjectid="2741000009603" nparentcontrolobjectid="2741000009593"/><r nid="1032609" ncontrolobjectid="2741000009585" nparentcontrolobjectid="2741000009608"/><r nid="1032610" ncontrolobjectid="2741000009585" nparentcontrolobjectid="2741000009593"/><r nid="1032611" ncontrolobjectid="2741000009602" nparentcontrolobjectid="2741000009914"/><r nid="1032612" ncontrolobjectid="2741000009586" nparentcontrolobjectid="2741000009608"/><r nid="1032613" ncontrolobjectid="2741000009593" nparentcontrolobjectid="2741000009589"/><r nid="1032614" ncontrolobjectid="2741000009914" nparentcontrolobjectid="2741000009589"/><r nid="1032615" ncontrolobjectid="2741000009586" nparentcontrolobjectid="2741000009593"/><r nid="1032616" ncontrolobjectid="2741000009585" nparentcontrolobjectid="2741000009589"/><r nid="1032617" ncontrolobjectid="2741000009602" nparentcontrolobjectid="2741000009608"/><r nid="1032618" ncontrolobjectid="2741000009586" nparentcontrolobjectid="2741000009589"/><r nid="1032619" ncontrolobjectid="2741000009585" nparentcontrolobjectid="2741000009590"/><r nid="1032620" ncontrolobjectid="2741000009603" nparentcontrolobjectid="2741000009609"/><r nid="1032621" ncontrolobjectid="2741000009585" nparentcontrolobjectid="2741000009609"/><r nid="1032622" ncontrolobjectid="2741000009598" nparentcontrolobjectid="2741000009608"/><r nid="1032623" ncontrolobjectid="2741000009603" nparentcontrolobjectid="2741000009592"/><r nid="1032624" ncontrolobjectid="2741000009603" nparentcontrolobjectid="2741000009914"/><r nid="1032625" ncontrolobjectid="2741000009602" nparentcontrolobjectid="2741000009609"/><r nid="1032626" ncontrolobjectid="2741000009914" nparentcontrolobjectid="2741000009593"/><r nid="1032627" ncontrolobjectid="2741000009598" nparentcontrolobjectid="2741000009593"/><r nid="1032628" ncontrolobjectid="2741000009965" nparentcontrolobjectid="2741000009588"/><r nid="1032629" ncontrolobjectid="2741000009914" nparentcontrolobjectid="2741000009590"/><r nid="1032630" ncontrolobjectid="2741000009598" nparentcontrolobjectid="2741000009590"/><r nid="1032631" ncontrolobjectid="2741000009589" nparentcontrolobjectid="2741000009965"/><r nid="1032632" ncontrolobjectid="2741000009593" nparentcontrolobjectid="2741000009609"/><r nid="1032633" ncontrolobjectid="2741000009598" nparentcontrolobjectid="2741000009589"/><r nid="1067638" ncontrolobjectid="2741000009979" nparentcontrolobjectid="2741000009981"/><r nid="1067639" ncontrolobjectid="2741000009991" nparentcontrolobjectid="2741000009989"/><r nid="1067640" ncontrolobjectid="2741000009994" nparentcontrolobjectid="2741000009979"/><r nid="1067641" ncontrolobjectid="2741000009991" nparentcontrolobjectid="2741000009995"/><r nid="1067642" ncontrolobjectid="2741000009979" nparentcontrolobjectid="2741000010017"/><r nid="1067643" ncontrolobjectid="2741000009991" nparentcontrolobjectid="2741000009979"/><r nid="1067644" ncontrolobjectid="2741000009990" nparentcontrolobjectid="2741000009993"/><r nid="1067645" ncontrolobjectid="2741000009982" nparentcontrolobjectid="2741000009983"/><r nid="1067646" ncontrolobjectid="2741000009991" nparentcontrolobjectid="2741000009993"/><r nid="1067647" ncontrolobjectid="2741000009990" nparentcontrolobjectid="2741000009979"/><r nid="1067648" ncontrolobjectid="2741000009990" nparentcontrolobjectid="2741000009989"/><r nid="1067649" ncontrolobjectid="2741000009994" nparentcontrolobjectid="2741000009993"/><r nid="1067650" ncontrolobjectid="2741000009983" nparentcontrolobjectid="2741000010232"/><r nid="1067651" ncontrolobjectid="2741000009995" nparentcontrolobjectid="2741000009989"/><r nid="1067652" ncontrolobjectid="2741000009987" nparentcontrolobjectid="2741000009979"/><r nid="1067653" ncontrolobjectid="2741000009994" nparentcontrolobjectid="2741000009989"/><r nid="1067654" ncontrolobjectid="2741000009979" nparentcontrolobjectid="2741000009983"/><r nid="1067655" ncontrolobjectid="2741000009995" nparentcontrolobjectid="2741000009979"/><r nid="1067656" ncontrolobjectid="2741000009995" nparentcontrolobjectid="2741000009993"/><r nid="1067657" ncontrolobjectid="2741000009991" nparentcontrolobjectid="2741000009988"/><r nid="1067658" ncontrolobjectid="2741000009987" nparentcontrolobjectid="2741000009989"/><r nid="1067659" ncontrolobjectid="2741000009995" nparentcontrolobjectid="2741000009987"/><r nid="1067660" ncontrolobjectid="2741000009980" nparentcontrolobjectid="2741000009982"/><r nid="1067661" ncontrolobjectid="2741000009979" nparentcontrolobjectid="2741000009989"/><r nid="1067662" ncontrolobjectid="2741000009990" nparentcontrolobjectid="2741000009987"/><r nid="1067663" ncontrolobjectid="2741000009981" nparentcontrolobjectid="2741000009978"/><r nid="1067664" ncontrolobjectid="2741000009991" nparentcontrolobjectid="2741000009987"/><r nid="1067665" ncontrolobjectid="2741000009994" nparentcontrolobjectid="2741000009987"/><r nid="1067666" ncontrolobjectid="2741000009981" nparentcontrolobjectid="2741000009977"/></t33></data><d><jts>[
    {
        "nID": 1,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nparentid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname_ru"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname_en"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndepartmentid"
            },
            {
                "nOrd": 6,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndatapointid"
            },
            {
                "nOrd": 7,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sshortname_ru"
            },
            {
                "nOrd": 8,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sshortname_en"
            },
            {
                "nOrd": 9,
                "sType": "date",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "dtdatefrom"
            },
            {
                "nOrd": 10,
                "sType": "date",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "dtdateto"
            },
            {
                "nOrd": 11,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "norder"
            },
            {
                "nOrd": 12,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": "3",
                "sColumnName": "ndisplaystateid"
            },
            {
                "nOrd": 13,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "issubjectarea"
            },
            {
                "nOrd": 14,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nownerid"
            }
        ]
    },
    {
        "nID": 2,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "npositionid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndashboardid"
            },
            {
                "nOrd": 4,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndashboardposition"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndashboardgroupid"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isenabledqc"
            },
            {
                "nOrd": 7,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "npermissionid"
            },
            {
                "nOrd": 8,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "ismainposition"
            }
        ]
    },
    {
        "nID": 3,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "npositionid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nindicatorid"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "npermissionid"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "ismainposition"
            }
        ]
    },
    {
        "nID": 4,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "id"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "name"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "description"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "code"
            },
            {
                "nOrd": 5,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "full_name"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "measure_id"
            },
            {
                "nOrd": 7,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dyn_type"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "pok_period"
            },
            {
                "nOrd": 9,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "variance"
            },
            {
                "nOrd": 10,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": "1",
                "sColumnName": "isavailable"
            },
            {
                "nOrd": 11,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "fact_name"
            },
            {
                "nOrd": 12,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "name_en"
            },
            {
                "nOrd": 13,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "description_en"
            },
            {
                "nOrd": 14,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "full_name_en"
            },
            {
                "nOrd": 15,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "fact_name_en"
            },
            {
                "nOrd": 16,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "kpi_typeclassification"
            },
            {
                "nOrd": 17,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "kpi_typeclassification2"
            },
            {
                "nOrd": 18,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "measererateid"
            },
            {
                "nOrd": 19,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "measuredeltaid"
            },
            {
                "nOrd": 20,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "planrate_type"
            },
            {
                "nOrd": 22,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "subjectareaid"
            },
            {
                "nOrd": 23,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "externaldashboardid"
            },
            {
                "nOrd": 24,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "axislist"
            },
            {
                "nOrd": 25,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "responsible"
            },
            {
                "nOrd": 26,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "refreshrate"
            },
            {
                "nOrd": 27,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "2",
                "sColumnName": "nprecision"
            },
            {
                "nOrd": 28,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "ispartition"
            },
            {
                "nOrd": 30,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nwarehouseid"
            },
            {
                "nOrd": 31,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isneedcalcforecastversion"
            },
            {
                "nOrd": 32,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtdeleted"
            }
        ]
    },
    {
        "nID": 5,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "id"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "script"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "kpi_id"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "description"
            },
            {
                "nOrd": 5,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "for_xml"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "convert_to_rs"
            },
            {
                "nOrd": 7,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "is_generate"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "source_id"
            },
            {
                "nOrd": 9,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "lpriority"
            },
            {
                "nOrd": 10,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isavailable"
            },
            {
                "nOrd": 11,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isformula"
            },
            {
                "nOrd": 12,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nloadclustertypeid"
            }
        ]
    },
    {
        "nID": 6,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nindicatorid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nprocessid"
            },
            {
                "nOrd": 4,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nord"
            },
            {
                "nOrd": 5,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": "true",
                "sColumnName": "isactive"
            }
        ]
    },
    {
        "nID": 7,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nindicatorprocessid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nparamid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "svalue"
            }
        ]
    },
    {
        "nID": 8,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nindicatorprocessid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nclusterid"
            }
        ]
    },
    {
        "nID": 9,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "npositionid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nuserdictionaryid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "npermissionid"
            },
            {
                "nOrd": 5,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "ismainposition"
            }
        ]
    },
    {
        "nID": 10,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdescription"
            },
            {
                "nOrd": 4,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "ntype"
            },
            {
                "nOrd": 5,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sscript"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isactive"
            },
            {
                "nOrd": 7,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtdeleted"
            },
            {
                "nOrd": 8,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "issystem"
            },
            {
                "nOrd": 9,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isaiused"
            }
        ]
    },
    {
        "nID": 11,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "npositionid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nusersourceid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "npermissionid"
            },
            {
                "nOrd": 5,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "ismainposition"
            }
        ]
    },
    {
        "nID": 12,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "stable"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdescription"
            },
            {
                "nOrd": 5,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xheader"
            },
            {
                "nOrd": 6,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xstructure"
            },
            {
                "nOrd": 7,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtlastload"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "ntype"
            },
            {
                "nOrd": 9,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isshowforvisualization"
            },
            {
                "nOrd": 10,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtdeleted"
            }
        ]
    },
    {
        "nID": 13,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nusersourceid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdescription"
            },
            {
                "nOrd": 6,
                "sType": "json",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "jsettings"
            }
        ]
    },
    {
        "nID": 14,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nindicatorprocessid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nclusterid"
            }
        ]
    },
    {
        "nID": 15,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndashboardid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nparentdashboardid"
            },
            {
                "nOrd": 4,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndashboardtypeid"
            },
            {
                "nOrd": 5,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndashboardposition"
            },
            {
                "nOrd": 6,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndynamictypeid"
            },
            {
                "nOrd": 7,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdefaultparamname"
            },
            {
                "nOrd": 8,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": "2",
                "sColumnName": "nobjecttypeid"
            },
            {
                "nOrd": 9,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "iseditable"
            },
            {
                "nOrd": 10,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ispushpermissionrequired"
            },
            {
                "nOrd": 12,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sinsiderdesc"
            },
            {
                "nOrd": 14,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isusecurrentdate"
            },
            {
                "nOrd": 15,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isshowforecastlastupdate"
            },
            {
                "nOrd": 16,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nreportid"
            },
            {
                "nOrd": 17,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": "0",
                "sColumnName": "ninsidermask"
            },
            {
                "nOrd": 18,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdescription"
            },
            {
                "nOrd": 19,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndisplaystateid"
            },
            {
                "nOrd": 20,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sdashboardtitle_ru"
            },
            {
                "nOrd": 21,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdashboardtitle_en"
            },
            {
                "nOrd": 22,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtdeleted"
            },
            {
                "nOrd": 23,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": "1",
                "sColumnName": "ntargetdbplatformtype"
            },
            {
                "nOrd": 24,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isaienabled"
            },
            {
                "nOrd": 25,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "staglist"
            }
        ]
    },
    {
        "nID": 16,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nparentid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname_ru"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname_en"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "isdefault"
            },
            {
                "nOrd": 6,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nobjectid"
            },
            {
                "nOrd": 7,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": "99",
                "sColumnName": "nmenuitemposition"
            },
            {
                "nOrd": 8,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": "3",
                "sColumnName": "ndisplaystateid"
            },
            {
                "nOrd": 9,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "slogo"
            },
            {
                "nOrd": 10,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "slink"
            },
            {
                "nOrd": 11,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isservice"
            },
            {
                "nOrd": 12,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "3",
                "sColumnName": "ndisplayenvironmentid"
            },
            {
                "nOrd": 13,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isfixed"
            },
            {
                "nOrd": 14,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "siconid"
            },
            {
                "nOrd": 15,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": "7",
                "sColumnName": "ndisplayplatformid"
            },
            {
                "nOrd": 16,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": "3",
                "sColumnName": "ndisplaydbplatformid"
            }
        ]
    },
    {
        "nID": 17,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nparentid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndashboardid"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname_ru"
            },
            {
                "nOrd": 5,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname_en"
            },
            {
                "nOrd": 6,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdepartmentname_ru"
            },
            {
                "nOrd": 7,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdepartmentname_en"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nmeasureid"
            },
            {
                "nOrd": 9,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ntype"
            },
            {
                "nOrd": 10,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "nshrinktype"
            },
            {
                "nOrd": 11,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nwidth"
            },
            {
                "nOrd": 12,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nheight"
            },
            {
                "nOrd": 13,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "norder"
            },
            {
                "nOrd": 14,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "stitle_ru"
            },
            {
                "nOrd": 15,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "stitle_en"
            },
            {
                "nOrd": 16,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ishidebreadcrumbs"
            },
            {
                "nOrd": 17,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isdisablepadding"
            },
            {
                "nOrd": 18,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "spropertiessql"
            },
            {
                "nOrd": 19,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "nlayouttype"
            },
            {
                "nOrd": 20,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isstretchlastwidgettotheendofscreen"
            },
            {
                "nOrd": 21,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isstretchallwidgetstothesidesofscreen"
            },
            {
                "nOrd": 22,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scomment"
            },
            {
                "nOrd": 23,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isasyncloading"
            },
            {
                "nOrd": 24,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "iscached"
            },
            {
                "nOrd": 25,
                "sType": "interval",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scachelivetime"
            },
            {
                "nOrd": 26,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isaienabled"
            },
            {
                "nOrd": 27,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "staglist"
            },
            {
                "nOrd": 28,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "naiscreenwidgetid"
            }
        ]
    },
    {
        "nID": 18,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nscreenid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname_ru"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname_en"
            },
            {
                "nOrd": 5,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xactions"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nord"
            },
            {
                "nOrd": 7,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ishidetitle"
            },
            {
                "nOrd": 8,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "spropertiessql"
            }
        ]
    },
    {
        "nID": 19,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nparentid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nscreenid"
            },
            {
                "nOrd": 4,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nwidgettypeid"
            },
            {
                "nOrd": 5,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname_ru"
            },
            {
                "nOrd": 6,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname_en"
            },
            {
                "nOrd": 7,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nxcoord"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nycoord"
            },
            {
                "nOrd": 9,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nwidth"
            },
            {
                "nOrd": 10,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nheight"
            },
            {
                "nOrd": 11,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "norder"
            },
            {
                "nOrd": 12,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ishidden"
            },
            {
                "nOrd": 13,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "nviewtype"
            },
            {
                "nOrd": 14,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xparams"
            },
            {
                "nOrd": 15,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isisolated"
            },
            {
                "nOrd": 16,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nsectionid"
            },
            {
                "nOrd": 17,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nsourcetypeid"
            },
            {
                "nOrd": 18,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ntitlelinesnumberfixed"
            },
            {
                "nOrd": 19,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ntitlelinesnumbermax"
            },
            {
                "nOrd": 20,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ishidewidgethead"
            },
            {
                "nOrd": 21,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nbackgroundtype"
            },
            {
                "nOrd": 22,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isstorehiddenstate"
            },
            {
                "nOrd": 23,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "islandscapeavailable"
            },
            {
                "nOrd": 24,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scomment"
            },
            {
                "nOrd": 25,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nrefreshtimeout"
            },
            {
                "nOrd": 26,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isfullscreenable"
            },
            {
                "nOrd": 27,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "snodatatext"
            },
            {
                "nOrd": 28,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sgeneratordatasetid"
            },
            {
                "nOrd": 29,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sgeneratorwidgetsfieldid"
            },
            {
                "nOrd": 30,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sgeneratorsectionsfieldid"
            },
            {
                "nOrd": 31,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "iscached"
            },
            {
                "nOrd": 32,
                "sType": "interval",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scachelivetime"
            },
            {
                "nOrd": 33,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isaienabled"
            },
            {
                "nOrd": 34,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isheightforcontent"
            },
            {
                "nOrd": 35,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nmaxheight"
            }
        ]
    },
    {
        "nID": 20,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "slabel"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nscreenid"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nscreenwidgetid"
            },
            {
                "nOrd": 6,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nbasescreenwidgetid"
            },
            {
                "nOrd": 7,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isonline"
            },
            {
                "nOrd": 8,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isscreenonly"
            },
            {
                "nOrd": 9,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "fwidth"
            },
            {
                "nOrd": 10,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "naligntype"
            },
            {
                "nOrd": 11,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdefaultvalue"
            },
            {
                "nOrd": 12,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdataselect"
            },
            {
                "nOrd": 13,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "fprevpad"
            },
            {
                "nOrd": 14,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nord"
            },
            {
                "nOrd": 15,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nstyle"
            },
            {
                "nOrd": 16,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isdisabled"
            },
            {
                "nOrd": 17,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "senabledhexcolor"
            },
            {
                "nOrd": 18,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdisabledhexcolor"
            },
            {
                "nOrd": 19,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nactiontype"
            },
            {
                "nOrd": 20,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nrefobjectid"
            },
            {
                "nOrd": 21,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sgroup"
            },
            {
                "nOrd": 22,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ishideaftercalc"
            },
            {
                "nOrd": 23,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isshowsearchstring"
            },
            {
                "nOrd": 24,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scontrolhint"
            },
            {
                "nOrd": 25,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "iscollapseselecteddescendant"
            },
            {
                "nOrd": 26,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ishidedisabled"
            },
            {
                "nOrd": 27,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ncollapsechoiceover"
            },
            {
                "nOrd": 28,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ishideonclient"
            },
            {
                "nOrd": 29,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nbagecontrolobjectid"
            },
            {
                "nOrd": 30,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nicontype"
            },
            {
                "nOrd": 31,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ispriority"
            },
            {
                "nOrd": 32,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xextendedproperties"
            },
            {
                "nOrd": 33,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scomment"
            },
            {
                "nOrd": 34,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ishidelabel"
            },
            {
                "nOrd": 35,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nobjecttypeid"
            },
            {
                "nOrd": 36,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "siconid"
            },
            {
                "nOrd": 37,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ncachetype"
            },
            {
                "nOrd": 38,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "shash"
            },
            {
                "nOrd": 47,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ncachetimeout"
            },
            {
                "nOrd": 48,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xcontrol"
            },
            {
                "nOrd": 49,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nviewtype"
            },
            {
                "nOrd": 50,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "scode"
            },
            {
                "nOrd": 51,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isaienabled"
            },
            {
                "nOrd": 52,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "staglist"
            },
            {
                "nOrd": 53,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nparentcontrolobjectid"
            }
        ]
    },
    {
        "nID": 21,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nscreenwidgetid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "napptypeid"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 5,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "svalue"
            }
        ]
    },
    {
        "nID": 22,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nbasescreenwidgetid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nscreenwidgetid"
            },
            {
                "nOrd": 4,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nrow"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ncolumn"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nwidthpx"
            },
            {
                "nOrd": 7,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nheightpx"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nwidthpercent"
            },
            {
                "nOrd": 9,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nheightpercent"
            },
            {
                "nOrd": 10,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ncolumnspan"
            },
            {
                "nOrd": 11,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nrowspan"
            }
        ]
    },
    {
        "nID": 23,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ncontrolobjectid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nparentcontrolobjectid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            }
        ]
    },
    {
        "nID": 24,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nscreenwidgetid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scode"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "svalue"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ntype"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isactive"
            }
        ]
    },
    {
        "nID": 25,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ncontrolobjectid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nscreenwidgetid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            }
        ]
    },
    {
        "nID": 26,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ncontrolobjectid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ssubject"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sbody"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "srecipientlist"
            }
        ]
    },
    {
        "nID": 27,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nlinkid"
            },
            {
                "nOrd": 3,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nlinktypeid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nlinkedobjectid"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nresourceid"
            },
            {
                "nOrd": 6,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": "6",
                "sColumnName": "nobjecttypeid"
            },
            {
                "nOrd": 7,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndisplaystateid"
            },
            {
                "nOrd": 8,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "slinktitle_ru"
            },
            {
                "nOrd": 9,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "slinktitle_en"
            }
        ]
    },
    {
        "nID": 28,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndashboardid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndomainid"
            },
            {
                "nOrd": 4,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndomainposition"
            }
        ]
    },
    {
        "nID": 29,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndashboardid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndomainid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ncardid"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nparentcardid"
            },
            {
                "nOrd": 6,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ncardposition"
            },
            {
                "nOrd": 7,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndynamictypeid"
            },
            {
                "nOrd": 8,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndepartmentid"
            },
            {
                "nOrd": 9,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndatapointid"
            },
            {
                "nOrd": 10,
                "sType": "date",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtdatefrom"
            },
            {
                "nOrd": 11,
                "sType": "date",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtdateto"
            },
            {
                "nOrd": 12,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nredvalue"
            },
            {
                "nOrd": 13,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ngreenvalue"
            },
            {
                "nOrd": 14,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scustomname"
            }
        ]
    },
    {
        "nID": 30,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndashboardid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndomainid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nlinkid"
            },
            {
                "nOrd": 5,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nlinkposition"
            },
            {
                "nOrd": 6,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nselecteddashboardid"
            }
        ]
    },
    {
        "nID": 31,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "npositionid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndashboardid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndomainid"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ncardid"
            },
            {
                "nOrd": 6,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nparentcardid"
            },
            {
                "nOrd": 7,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ncardorder"
            },
            {
                "nOrd": 8,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndynamictypeid"
            },
            {
                "nOrd": 9,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndepartmentid"
            },
            {
                "nOrd": 10,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndatapointid"
            },
            {
                "nOrd": 11,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nredvalue"
            },
            {
                "nOrd": 12,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ngreenvalue"
            },
            {
                "nOrd": 13,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nactiontypeid"
            },
            {
                "nOrd": 14,
                "sType": "timestamp",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "dtactiondate"
            },
            {
                "nOrd": 15,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nuserid"
            }
        ]
    },
    {
        "nID": 32,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "norganizationpositionid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndashboardid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nchildorganizationpositionid"
            },
            {
                "nOrd": 5,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "norder"
            }
        ]
    },
    {
        "nID": 33,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ncontrolobjectid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nparentcontrolobjectid"
            }
        ]
    },
    {
        "nID": 34,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndomainid"
            },
            {
                "nOrd": 3,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": "7",
                "sColumnName": "nobjecttypeid"
            },
            {
                "nOrd": 4,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndisplaystateid"
            },
            {
                "nOrd": 5,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sdomaintitle_ru"
            },
            {
                "nOrd": 6,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdomaintitle_en"
            }
        ]
    },
    {
        "nID": 35,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndashboardid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": "'Вопрос по дешборду \"%DashName%\"'::character varying",
                "sColumnName": "ssubject"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": "'Здесь Вы можете адресовать свой вопрос по дешборду, предварительно указав область карточек и саму карточку'::character varying",
                "sColumnName": "sbody"
            }
        ]
    },
    {
        "nID": 36,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndashboardemailid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "srecipient"
            }
        ]
    },
    {
        "nID": 37,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nscreenid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sid"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 5,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scomment"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nord"
            },
            {
                "nOrd": 7,
                "sType": "xml",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "xdataset"
            }
        ]
    },
    {
        "nID": 38,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ncontrolobjectid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scode"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "svalue"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "ntype"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isactive"
            }
        ]
    },
    {
        "nID": 39,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 3,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtdeleted"
            }
        ]
    },
    {
        "nID": 40,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nreportid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "svalue"
            },
            {
                "nOrd": 5,
                "sType": "uuid",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "uuid"
            }
        ]
    },
    {
        "nID": 41,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nreportid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nsettingsid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "svalue"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            }
        ]
    },
    {
        "nID": 42,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nreportid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 4,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isactive"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nord"
            }
        ]
    },
    {
        "nID": 43,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nheaderid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nparentid"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndatacolumnid"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nord"
            },
            {
                "nOrd": 7,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "saliasname"
            }
        ]
    },
    {
        "nID": 44,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nheaderid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ncolumnid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nsettingsid"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "svalue"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            }
        ]
    },
    {
        "nID": 45,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nheaderid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ncolumnid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nord"
            },
            {
                "nOrd": 5,
                "sType": "int2",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nformattype"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "iscellonly"
            },
            {
                "nOrd": 7,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xmlcondition"
            }
        ]
    },
    {
        "nID": 46,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ncolumnformatid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "npropertiesid"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "svalue"
            }
        ]
    },
    {
        "nID": 47,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname_ru"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdesc_ru"
            },
            {
                "nOrd": 4,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isactive"
            },
            {
                "nOrd": 5,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "issend"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "nruletypeid"
            },
            {
                "nOrd": 7,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sobject"
            },
            {
                "nOrd": 8,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sobjectname"
            },
            {
                "nOrd": 9,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sformula"
            },
            {
                "nOrd": 10,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scondition"
            },
            {
                "nOrd": 11,
                "sType": "numeric",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ftargetvalue"
            },
            {
                "nOrd": 12,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scustomfilter"
            },
            {
                "nOrd": 13,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "issavedetails"
            },
            {
                "nOrd": 14,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nrulegroupid"
            },
            {
                "nOrd": 15,
                "sType": "numeric",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ftargetdelta"
            },
            {
                "nOrd": 16,
                "sType": "numeric",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ftargetdeltapct"
            },
            {
                "nOrd": 17,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "deleted_nsubjectareaid"
            },
            {
                "nOrd": 18,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nbusinessruletypeid"
            },
            {
                "nOrd": 19,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndaybackup"
            },
            {
                "nOrd": 20,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtlastbackup"
            },
            {
                "nOrd": 21,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nmeasureid"
            },
            {
                "nOrd": 22,
                "sType": "numeric",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ftargetvalue2"
            },
            {
                "nOrd": 23,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isextendedlog"
            },
            {
                "nOrd": 24,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "5",
                "sColumnName": "nrulepriority"
            },
            {
                "nOrd": 25,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtcreate"
            },
            {
                "nOrd": 26,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtmodify"
            },
            {
                "nOrd": 27,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ncreateuser"
            },
            {
                "nOrd": 28,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nmodifyuser"
            },
            {
                "nOrd": 29,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isdeviationonchange"
            },
            {
                "nOrd": 30,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isreadonlytargets"
            },
            {
                "nOrd": 31,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xwidgetparams"
            },
            {
                "nOrd": 32,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "iswidgetusedeviationdate"
            },
            {
                "nOrd": 33,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nresetdynamic"
            },
            {
                "nOrd": 34,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isprocessnothappen"
            },
            {
                "nOrd": 35,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ishidethreshold"
            },
            {
                "nOrd": 36,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nord"
            },
            {
                "nOrd": 37,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ismultiplestep"
            },
            {
                "nOrd": 38,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isreadonly"
            },
            {
                "nOrd": 39,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isselfalert"
            },
            {
                "nOrd": 40,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nrulegrouppositionid"
            }
        ]
    },
    {
        "nID": 48,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nruleid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sparam"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "svalue"
            }
        ]
    },
    {
        "nID": 49,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nruleid"
            },
            {
                "nOrd": 3,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nparamid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nsourcetypeid"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nkpi_id"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndynamictype"
            },
            {
                "nOrd": 7,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nbitmask"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nversionid"
            },
            {
                "nOrd": 9,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ntotaltype"
            },
            {
                "nOrd": 10,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sfunction"
            },
            {
                "nOrd": 11,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndatesfrom"
            },
            {
                "nOrd": 12,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndatesto"
            },
            {
                "nOrd": 13,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nmaxdatesfrom"
            },
            {
                "nOrd": 14,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nmaxdatesto"
            },
            {
                "nOrd": 15,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "iswork"
            },
            {
                "nOrd": 16,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nactualdynamictype"
            },
            {
                "nOrd": 17,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isallavailabledata"
            },
            {
                "nOrd": 18,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nbaseruleid"
            },
            {
                "nOrd": 19,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scustomwhere"
            },
            {
                "nOrd": 20,
                "sType": "numeric",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "fnullvalue"
            },
            {
                "nOrd": 21,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname_ru"
            },
            {
                "nOrd": 22,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdesc_ru"
            },
            {
                "nOrd": 23,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "data_point_id"
            },
            {
                "nOrd": 24,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "deprt"
            },
            {
                "nOrd": 25,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "svalueexpression"
            },
            {
                "nOrd": 26,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sobject"
            },
            {
                "nOrd": 27,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sobjectname"
            },
            {
                "nOrd": 28,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nusersourceid"
            },
            {
                "nOrd": 29,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdate"
            },
            {
                "nOrd": 30,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "skpi_id"
            },
            {
                "nOrd": 31,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nsourceenvironmentid"
            },
            {
                "nOrd": 32,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ssourcetablename"
            }
        ]
    },
    {
        "nID": 50,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nruleid"
            },
            {
                "nOrd": 3,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nhtmltableid"
            },
            {
                "nOrd": 6,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nhtmltableslibraryid"
            }
        ]
    },
    {
        "nID": 51,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nruleid"
            },
            {
                "nOrd": 3,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isactive"
            },
            {
                "nOrd": 4,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isrunonce"
            },
            {
                "nOrd": 5,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdescription"
            },
            {
                "nOrd": 6,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sweeknum"
            },
            {
                "nOrd": 7,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sweekday"
            },
            {
                "nOrd": 8,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "smonth"
            },
            {
                "nOrd": 9,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sday"
            },
            {
                "nOrd": 10,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "shour"
            },
            {
                "nOrd": 11,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sminute"
            },
            {
                "nOrd": 12,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndateshift"
            },
            {
                "nOrd": 13,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndatedynamic"
            },
            {
                "nOrd": 14,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isforcecalc"
            },
            {
                "nOrd": 15,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtnextrun"
            },
            {
                "nOrd": 17,
                "sType": "timestamp",
                "isNull": "NO",
                "sDefault": "LOCALTIMESTAMP",
                "sColumnName": "dtcreate"
            },
            {
                "nOrd": 18,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nrundays"
            }
        ]
    },
    {
        "nID": 52,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nruleid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sobject"
            },
            {
                "nOrd": 4,
                "sType": "timestamp",
                "isNull": "NO",
                "sDefault": "LOCALTIMESTAMP",
                "sColumnName": "dtcreate"
            },
            {
                "nOrd": 5,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtmodify"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isactive"
            },
            {
                "nOrd": 7,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isspamfilter"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nspamcount"
            },
            {
                "nOrd": 9,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nspamdynamic"
            },
            {
                "nOrd": 10,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "100",
                "sColumnName": "nmessagelimit"
            },
            {
                "nOrd": 11,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "iscumulative"
            },
            {
                "nOrd": 12,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nmessagettl"
            }
        ]
    },
    {
        "nID": 53,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nsubscribeid"
            },
            {
                "nOrd": 3,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nchannelid"
            },
            {
                "nOrd": 4,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isactive"
            },
            {
                "nOrd": 5,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xparams"
            },
            {
                "nOrd": 6,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nprocid"
            }
        ]
    },
    {
        "nID": 54,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nsubscribeid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nuserid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ngroupid"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nchannelid"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isactive"
            }
        ]
    },
    {
        "nID": 55,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nsubscribeid"
            },
            {
                "nOrd": 3,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nsubscribedynamicgroupid"
            },
            {
                "nOrd": 4,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nchannelid"
            },
            {
                "nOrd": 5,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isactive"
            }
        ]
    },
    {
        "nID": 56,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nruleid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sparam"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "svalue"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "0",
                "sColumnName": "nchannelid"
            }
        ]
    },
    {
        "nID": 57,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nruleid"
            },
            {
                "nOrd": 3,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nfilterid"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sfiltername"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nuserdictionaryid"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "nviewtype"
            },
            {
                "nOrd": 7,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sfieldname"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nbitmask"
            },
            {
                "nOrd": 9,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sfieldnamesource"
            },
            {
                "nOrd": 10,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scustomwhere"
            },
            {
                "nOrd": 11,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "shint"
            }
        ]
    },
    {
        "nID": 58,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname_ru"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "deleted_nsubjectareaid"
            }
        ]
    },
    {
        "nID": 59,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nsubscribedynamicgroupid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nuserid"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sobject"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "1",
                "sColumnName": "nstatus"
            }
        ]
    },
    {
        "nID": 60,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "deleted_nsubjectareaid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sdescription"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sprocname"
            },
            {
                "nOrd": 5,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xparams"
            }
        ]
    },
    {
        "nID": 61,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sid"
            },
            {
                "nOrd": 2,
                "sType": "uuid",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "uuid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 4,
                "sType": "bytea",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "binpdf"
            },
            {
                "nOrd": 5,
                "sType": "bytea",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "binsvg"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ismenu"
            },
            {
                "nOrd": 7,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isdashboard"
            },
            {
                "nOrd": 8,
                "sType": "timestamp",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "dtuploaddate"
            },
            {
                "nOrd": 9,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nuserid"
            }
        ]
    },
    {
        "nID": 62,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "npositionid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nxlsreporttypeid"
            },
            {
                "nOrd": 4,
                "sType": "int2",
                "isNull": "YES",
                "sDefault": "0",
                "sColumnName": "iscanupdate"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "npermissionid"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "ismainposition"
            }
        ]
    },
    {
        "nID": 63,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": "(1000 + ((random() * (1000000)::double precision))::bigint)",
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "svalue"
            }
        ]
    },
    {
        "nID": 70,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "salias"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdescription"
            },
            {
                "nOrd": 7,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isai"
            }
        ]
    },
    {
        "nID": 71,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndatamodel"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nsourceid"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ntype"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isactive"
            },
            {
                "nOrd": 8,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": "false",
                "sColumnName": "isroot"
            }
        ]
    },
    {
        "nID": 72,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndatamodelsource"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ssourcecolumnname"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scolumnname"
            },
            {
                "nOrd": 5,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scolumnnamedescription"
            },
            {
                "nOrd": 6,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "soperation"
            },
            {
                "nOrd": 7,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ntype"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nord"
            },
            {
                "nOrd": 9,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isactive"
            },
            {
                "nOrd": 11,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": "2",
                "sColumnName": "ncolumndatatype"
            },
            {
                "nOrd": 12,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isai"
            },
            {
                "nOrd": 13,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "iscalculated"
            },
            {
                "nOrd": 14,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": "false",
                "sColumnName": "isformula"
            },
            {
                "nOrd": 15,
                "sType": "_int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndependentscolumn"
            },
            {
                "nOrd": 16,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nformulalevel"
            }
        ]
    },
    {
        "nID": 73,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndatamodel"
            },
            {
                "nOrd": 3,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ntype"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nparent"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nsourceid"
            },
            {
                "nOrd": 7,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": "false",
                "sColumnName": "isoptional"
            }
        ]
    },
    {
        "nID": 74,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndatamodellink"
            },
            {
                "nOrd": 5,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nleftid"
            },
            {
                "nOrd": 6,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nrightid"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": "1",
                "sColumnName": "ntype"
            }
        ]
    },
    {
        "nID": 75,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ndatamodel"
            },
            {
                "nOrd": 3,
                "sType": "text",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sfiltername"
            },
            {
                "nOrd": 4,
                "sType": "text",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sfilter"
            },
            {
                "nOrd": 5,
                "sType": "text",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sdescription"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isactive"
            }
        ]
    },
    {
        "nID": 80,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nuserownerid"
            },
            {
                "nOrd": 4,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtcreate"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ncurrentstate"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": "3",
                "sColumnName": "npriorityid"
            }
        ]
    },
    {
        "nID": 81,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "njobid"
            },
            {
                "nOrd": 3,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isenable"
            },
            {
                "nOrd": 4,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nord"
            },
            {
                "nOrd": 5,
                "sType": "xml",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "xcommand"
            },
            {
                "nOrd": 6,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scommandtype"
            },
            {
                "nOrd": 7,
                "sType": "json",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "jcommand"
            },
            {
                "nOrd": 8,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 9,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isautoname"
            }
        ]
    },
    {
        "nID": 82,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "njobid"
            },
            {
                "nOrd": 3,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isenable"
            },
            {
                "nOrd": 4,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nprevstepord"
            },
            {
                "nOrd": 5,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sscript"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nord"
            },
            {
                "nOrd": 7,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 8,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "isautoname"
            }
        ]
    },
    {
        "nID": 83,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "njobconditionid"
            },
            {
                "nOrd": 2,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sresult"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sstepto"
            },
            {
                "nOrd": 4,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nsteporderto"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nord"
            }
        ]
    },
    {
        "nID": 84,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "njobid"
            },
            {
                "nOrd": 3,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtstart"
            },
            {
                "nOrd": 4,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtend"
            },
            {
                "nOrd": 5,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isrecursive"
            },
            {
                "nOrd": 6,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nactuationtype"
            },
            {
                "nOrd": 7,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nactuationfreq"
            },
            {
                "nOrd": 8,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nactuationday"
            },
            {
                "nOrd": 9,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "isfrequency"
            },
            {
                "nOrd": 10,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nfrequencytype"
            },
            {
                "nOrd": 11,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "nfrequency"
            },
            {
                "nOrd": 12,
                "sType": "time",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dttimestart"
            },
            {
                "nOrd": 13,
                "sType": "time",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dttimeend"
            },
            {
                "nOrd": 14,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sselectedtime"
            },
            {
                "nOrd": 15,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "isenable"
            },
            {
                "nOrd": 16,
                "sType": "timestamp",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "dtlaststart"
            },
            {
                "nOrd": 17,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ssummarytext"
            }
        ]
    },
    {
        "nID": 85,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "njobid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nsubjectareaid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "npermissionid"
            },
            {
                "nOrd": 4,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "false",
                "sColumnName": "ismainposition"
            }
        ]
    },
    {
        "nID": 100,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "npositionid"
            },
            {
                "nOrd": 3,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "ndatamodelid"
            },
            {
                "nOrd": 4,
                "sType": "int8",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "npermissionid"
            },
            {
                "nOrd": 5,
                "sType": "bool",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "ismainposition"
            }
        ]
    },
    {
        "nID": 121,
        "jStructure": [
            {
                "nOrd": 1,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nid"
            },
            {
                "nOrd": 2,
                "sType": "int8",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "nusersourceid"
            },
            {
                "nOrd": 3,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sname"
            },
            {
                "nOrd": 4,
                "sType": "varchar",
                "isNull": "NO",
                "sDefault": null,
                "sColumnName": "sscript"
            },
            {
                "nOrd": 5,
                "sType": "int4",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "npriority"
            },
            {
                "nOrd": 6,
                "sType": "bool",
                "isNull": "NO",
                "sDefault": "true",
                "sColumnName": "isavailable"
            },
            {
                "nOrd": 7,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "sstrategy"
            },
            {
                "nOrd": 8,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "scolumns"
            },
            {
                "nOrd": 9,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "smatched"
            },
            {
                "nOrd": 10,
                "sType": "varchar",
                "isNull": "YES",
                "sDefault": null,
                "sColumnName": "snotmatched"
            }
        ]
    }
]</jts><sd nversion="121"/><sd nversion="122">ALTER TABLE [**19**] ADD COLUMN IF NOT EXISTS isAIEnabled boolean;ALTER TABLE [**17**] DROP COLUMN IF EXISTS nAIScreenWidgetID;</sd><sd nversion="124">ALTER TABLE [**16**] ALTER COLUMN ndisplayenvironmentid TYPE int2 USING ndisplayenvironmentid::int2</sd><sd nversion="123">ALTER TABLE [**20**] DROP COLUMN IF EXISTS isaiprocessing;</sd><sd nversion="125">ALTER TABLE [**19**] DROP COLUMN IF EXISTS isAIEnabled;
 			ALTER TABLE [**1**] DROP COLUMN IF EXISTS nownerid;
 			ALTER TABLE [**20**]
				ADD COLUMN IF NOT EXISTS isAIProcessing boolean NOT NULL DEFAULT false;
			ALTER TABLE [**10**]  DROP COLUMN IF EXISTS isSystem;</sd><sd nversion="126"/><sd nversion="128"/><sd nversion="127"> ALTER TABLE [**2**]
								  	  DROP COLUMN IF EXISTS nPermissionID
								  	, DROP COLUMN IF EXISTS isMainPosition;
								  ALTER TABLE [**3**]
								  	  DROP COLUMN IF EXISTS nPermissionID
								  	, DROP COLUMN IF EXISTS isMainPosition;
								  ALTER TABLE [**9**]
								  	  DROP COLUMN IF EXISTS nPermissionID
								  	, DROP COLUMN IF EXISTS isMainPosition;
								  ALTER TABLE [**11**]
								  	  DROP COLUMN IF EXISTS nPermissionID
								  	, DROP COLUMN IF EXISTS isMainPosition;
								  ALTER TABLE [**62**]
								  	  DROP COLUMN IF EXISTS nPermissionID
								  	, DROP COLUMN IF EXISTS isMainPosition;</sd><sd nversion="129">
				ALTER TABLE  [**10**] 
	    			DROP COLUMN IF EXISTS isAIUsed;
				  	
		        ALTER TABLE IF EXISTS [**13**]
		            ADD COLUMN IF NOT EXISTS xxml XML;
	
	            UPDATE [**13**]
	               SET xxml = XMLELEMENT(NAME "settings",XMLELEMENT(NAME "data",XMLATTRIBUTES(jsettings -&gt; 'settings' -&gt; 'data' -&gt; 'json' AS "json")));
	
		        ALTER TABLE IF EXISTS [**13**] 
		            DROP COLUMN IF EXISTS jSettings;				     
				  </sd><sd nversion="130">
		        ALTER TABLE IF EXISTS [**19**]
		            DROP COLUMN IF EXISTS isHeightForContent;</sd><sd nversion="131">
		ALTER TABLE IF EXISTS [**19**]
		    DROP COLUMN IF EXISTS nMaxHeight;
		   
		ALTER TABLE [**73**] 
			ADD COLUMN IF NOT EXISTS nvirtualsourceid int8;

		ALTER TABLE [**74**] 
			ADD COLUMN IF NOT EXISTS nleftsourceid int8, 
			ADD COLUMN IF NOT EXISTS nrightsourceid int8, 
			ADD COLUMN IF NOT EXISTS smetakey varchar;

		ALTER TABLE [**71**] 
			ADD COLUMN IF NOT EXISTS isalias bool;				  					     
			  </sd><td n="37" s="ui" ss="tscreendataset_v30"/><td n="1" s="rm" ss="tposition" b="true"/><td n="2" s="rme" ss="tpositiondashboard" b="true"/><td n="3" s="rme" ss="tsubjectareaindicator" b="true"/><td n="4" s="data" ss="kpi_"/><td n="5" s="data" ss="loadcluster"/><td n="6" s="data" ss="tppindicatorprocess"/><td n="7" s="data" ss="tppindicatorprocessvalue"/><td n="8" s="data" ss="tppindicatorprocesscluster"/><td n="9" s="rme" ss="tsubjectareatuserdictionary" b="true"/><td n="10" s="data" ss="tuserdictionary"/><td n="11" s="rme" ss="tsubjectareausersource" b="true"/><td n="12" s="data" ss="tusersource"/><td n="13" s="data" ss="tusersourcefileuploadtemplate"/><td n="14" s="data" ss="tppindicatorprocesscluster"/><td n="15" s="ui" ss="tdashboard"/><td n="16" s="ui" ss="tdicmenuitem"/><td n="17" s="ui" ss="tscreen_v30"/><td n="18" s="ui" ss="tscreensection_v30"/><td n="19" s="ui" ss="tscreenwidget_v30"/><td n="20" s="ui" ss="tcontrolobject_v30"/><td n="21" s="ui" ss="tscreenwidgetparameters_v30"/><td n="22" s="ui" ss="tcombinewidget_v30"/><td n="23" s="ui" ss="tcontrolobjectlink_v30"/><td n="24" s="ui" ss="tscreenwidgetdisabled_v30"/><td n="25" s="ui" ss="tcontrolobjecthiddenscreenwidget_v30"/><td n="26" s="ui" ss="tcontrolobjectemail_v30"/><td n="27" s="ui" ss="tlink"/><td n="28" s="ui" ss="tdashboarddomain"/><td n="29" s="ui" ss="tdashboarddomaincard"/><td n="30" s="ui" ss="tdashboarddomainlink"/><td n="31" s="ui" ss="tcardcustomaction"/><td n="32" s="ui" ss="tkpigridsettings"/><td n="33" s="ui" ss="tcontrolobjectlinkautogenerated_v30" b="false"/><td n="34" s="ui" ss="tdomain"/><td n="35" s="ui" ss="tdashboardemaillink"/><td n="36" s="ui" ss="tdashboardemailrecipient"/><td n="38" s="ui" ss="tcontrolobjectdisabled_v30"/><td n="39" s="ao" ss="treport"/><td n="40" s="ao" ss="treportsqlparam"/><td n="41" s="ao" ss="treportsettings"/><td n="42" s="ao" ss="theader"/><td n="43" s="ao" ss="theadercolumns"/><td n="44" s="ao" ss="tcolumnsettings"/><td n="45" s="ao" ss="tcolumnformat"/><td n="46" s="ao" ss="tformatrule"/><td n="47" s="dvn" ss="trules" b="false"/><td n="48" s="dvn" ss="trulemetrics"/><td n="49" s="dvn" ss="truleparams"/><td n="50" s="dvn" ss="trulehtmltables"/><td n="51" s="dvn" ss="tscheduler"/><td n="52" s="dvn" ss="tsubscribe"/><td n="53" s="dvn" ss="tsubscribesystem"/><td n="54" s="dvn" ss="tsubscribeuser"/><td n="55" s="dvn" ss="tsubscribedynamic"/><td n="56" s="dvn" ss="tmessagesettings"/><td n="57" s="dvn" ss="trulefilters"/><td n="58" s="dvn" ss="tsubscribedynamicgroups"/><td n="59" s="dvn" ss="tsubscribedynamicusers"/><td n="60" s="dvn" ss="tproclibrary"/><td n="61" s="ui" ss="ticonset" b="true"/><td n="62" s="rme" ss="tpositionao" b="true"/><td n="63" s="ui" ss="tpalette" b="true"/><td n="70" s="dm" ss="tdatamodel"/><td n="71" s="dm" ss="tdatamodelsource"/><td n="72" s="dm" ss="tdatamodelsource_column"/><td n="73" s="dm" ss="tdatamodellink"/><td n="74" s="dm" ss="tdatamodelkey"/><td n="75" s="dm" ss="tdatamodelfilter"/><td n="80" s="queue" ss="tjobs"/><td n="81" s="queue" ss="tjobsteps"/><td n="82" s="queue" ss="tjobconditions"/><td n="83" s="queue" ss="tjobconditionresults"/><td n="84" s="queue" ss="tscheduler"/><td n="85" s="rme" ss="tsubjectareajobs" b="true"/><td n="100" s="rme" ss="tsubjectareadatamodel" b="true"/><td n="121" s="data" ss="tusersourcetransformation"/></d></root>